@{
    ViewBag.Title = "รายละเอียดกรมธรรม์";
    Layout = "~/Views/Shared/_LayoutForTopIndexMotor.cshtml";
}
<style>

    .page-content img {
        max-width: 20%;
        height: auto !important;
    }

    #overlay {
        position: fixed; /* Sit on top of the page content */
        display: none; /* Hidden by default */
        width: 100%; /* Full width (cover the whole page) */
        height: 100%; /* Full height (cover the whole page) */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5); /* Black background with opacity */
        z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
        cursor: not-allowed; /* Add a pointer on hover */
    }
</style>
<div class="row">
    <div class="col-md-12" style="background-color: #1E90FF; color: white; text-align: center; margin-bottom:15px">
        <h4>รายละเอียดกรมธรรม์</h4>
    </div>
    <div class="col-md-12">
        <!-- Custom Tabs -->
        <div class="nav-tabs-custom">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="true" style="color: #005484">บันทึกผลการทำงาน</a></li>
                <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false" style="color: #005484">เอกสาร</a></li>
                <li class=""><a href="#tab_3" data-toggle="tab" aria-expanded="false" style="color: #005484">ประวัติคิวงาน</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="tab_1">
                    @* start ข้อมูลพื้นฐาน *@
                    <div class="box box-info">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                            <h3 class="box-title">ข้อมูลพื้นฐาน</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus" style="color:white"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">เลข App :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtAppID">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.ApplicationCode) ? "-" : ViewBag.QueueMotorFullDetail.ApplicationCode)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">เบี้ยประกันภัย :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtPremium">@(String.IsNullOrEmpty(ViewBag.Premium) ? "-" : ViewBag.Premium)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">บริษัทประกันภัย :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtCompanyInsurance">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuranceCompanyDetail) ? "-" : ViewBag.QueueMotorFullDetail.InsuranceCompanyDetail)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">ระยะเวลาประกันภัย :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtAppStartCoverDate">@(String.Format("{0} - {1}",(ViewBag.StartCoverDate != null ? ViewBag.StartCoverDate : ""),(ViewBag.EndCoverDate != null ? ViewBag.EndCoverDate : ""))) </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">สินค้าและแผน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtProduct">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.ProductDetail) ? "-" : ViewBag.QueueMotorFullDetail.ProductDetail)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">ออกเมื่อ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtIssuesPolicyDate">@(String.IsNullOrEmpty(ViewBag.IssuesPolicyDate) ? "-" : ViewBag.IssuesPolicyDate)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ประเภทการซ่อม :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtServiceType">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.ClaimTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.ClaimTypeDetail)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">ตัวแทน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtRepresen">@(String.Format("{0} {1}", String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.SaleEmployeeCode) ? "-" : ViewBag.QueueMotorFullDetail.SaleEmployeeCode, String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.SaleEmployeeName) ? "-" : ViewBag.QueueMotorFullDetail.SaleEmployeeName))</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ส่งมอบกรมธรรม์ไปที่ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtDeliverPolicyTo">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DeliverPolicyTo) ? "-" : ViewBag.QueueMotorFullDetail.DeliverPolicyTo)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">รหัสเจ้าของรถ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label" id="txtZebraCarOwnerEmployeeCode">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.ZebraCarOwnerEmployeeCode) ? "-" : ViewBag.QueueMotorFullDetail.ZebraCarOwnerEmployeeCode)</label>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    @* end ข้อมูลพื้นฐาน *@

                    @* start รายละเอียดความคุ้มครอง *@
                    <div class="box box-info collapsed-box">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                            <h3 class="box-title">รายละเอียดความคุ้มครอง</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-plus" style="color:white"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="col-md-12" style="text-align: center; color: #005484">
                                        <h4>ความรับผิดชอบต่อบุคคลภายนอก</h4>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" style="color: #005484;">ชีวิต ร่างกายและอนามัย ต่อคน :</label>
                                            <div class="col-md-8">
                                                <label class="control-label col-md-offset-10">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.Coverage1) ? "-" : ViewBag.QueueMotorFullDetail.Coverage1)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" style="color: #005484;">ชีวิต ร่างกายและอนามัย ต่อครั้ง :</label>
                                            <div class="col-md-8">
                                                <label class="control-label col-md-offset-10">
                                                    @(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.Coverage2) ? "-" : ViewBag.QueueMotorFullDetail.Coverage2)
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" style="color: #005484;">ทรัพย์สินของบุคคลภายนอก :</label>
                                            <div class="col-md-8">
                                                <label class="control-label col-md-offset-10">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.Coverage3) ? "-" : ViewBag.QueueMotorFullDetail.Coverage3)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <hr width=100% size=3>
                                    <div class="col-md-12" style="text-align: center; color: #005484">
                                        <h4>ความเสียหายต่อรถยนต์ที่ทำประกัน</h4>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-6 control-label" style="color: #005484;">ภัยจากการชนกับยานพาหนะทางบกและสามารถระบุคู่กรณีได้ :</label>
                                            <div class="col-md-5" style="margin-left:80px">
                                                <label class="control-label col-md-offset-9">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.Coverage4) ? "-" : ViewBag.QueueMotorFullDetail.Coverage4)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-6 control-label" style="color: #005484;">กรณีเสียหายโดยสิ้นเชิงเนื่องจากการสูญหาย ไฟไหม้โดยสิ้นเชิง :</label>
                                            <div class="col-md-5" style="margin-left:80px">
                                                <label class="control-label col-md-offset-9">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.Coverage5) ? "-" : ViewBag.QueueMotorFullDetail.Coverage5)</label>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    @* end รายละเอียดความคุ้มครอง *@

                    @* start รายละเอียดรถยนต์ *@
                    <div class="box box-info">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                            <h3 class="box-title">รายละเอียดรถยนต์</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus" style="color:white"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ยี่ห้อ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">
                                                    @(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleBrandDetail) ? "-" : ViewBag.QueueMotorFullDetail.VehicleBrandDetail)
                                                </label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">ปีที่จดทะเบียน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@ViewBag.VehicleRegistrationYear</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">รุ่น :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleModelDetail) ? "-" : ViewBag.QueueMotorFullDetail.VehicleModelDetail)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">เลขทะเบียน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleRegistrationNumber) ? "-" : ViewBag.QueueMotorFullDetail.VehicleRegistrationNumber)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ประเภทยานพาหนะ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.VehicleTypeDetail)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">หมายเลขตัวถัง :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label " onclick="">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleChassisNumber) ? "-" : ViewBag.QueueMotorFullDetail.VehicleChassisNumber)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ประเภทการใช้งาน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleUseTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.VehicleUseTypeDetail)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">สินเชื่อรถยนต์ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleIsFinacial) ? "-" : ViewBag.QueueMotorFullDetail.VehicleIsFinacial)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ทุนประกันรถยนต์ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(ViewBag.QueueMotorFullDetail.SumInsured == null ? "-" : ViewBag.QueueMotorFullDetail.SumInsured)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">มีกล้องติดรถยนต์ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleIsCamera) ? "-" : ViewBag.QueueMotorFullDetail.VehicleIsCamera)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ขนาดเครื่องยนต์ (L) :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleEngineSize) ? "-" : ViewBag.QueueMotorFullDetail.VehicleEngineSize)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">ลักษณะการใช้งาน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriveDetail) ? "-" : ViewBag.QueueMotorFullDetail.DriveDetail)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">สถานที่การใช้งาน :</label>
                                            <div class="col-md-3">
                                                <label class="control-label " style="text-align:left">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriveLocation) ? "-" : ViewBag.QueueMotorFullDetail.DriveLocation)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">หมายเหตุ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.VehicleRemark) ? "-" : ViewBag.QueueMotorFullDetail.VehicleRemark)</label>
                                            </div>
                                        </div>
                                    </div>
                                    @if (ViewBag.CountChassisNumber > 0)
                                    {
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <div class="col-md-3 col-md-offset-9">
                                                    <button id="modalCountChassisNumber" type="button" class="btn btn-block" style="background-color: #00e676; color: white" data-toggle="modal" data-target="#modal-CountChassisNumber">หมายเลขตัวถังมีประวัติคัดกรอง</button>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </fieldset>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    @* end รายละเอียดรถยนต์ *@

                    @*start ผู้เอาประกัน *@
                    @if (ViewBag.QueueMotorFullDetail.InsuredTypeDetail == "รายบุคคล" || ViewBag.QueueMotorFullDetail.InsuredTypeDetail == "บุคคลธรรมดา")
                    {
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">ผู้เอาประกัน</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทของผู้เอาประกัน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.InsuredTypeDetail)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทบัตร / หมายเลขบัตร :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredIdentityCard) ? "-" : ViewBag.QueueMotorFullDetail.InsuredIdentityCard)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ชื่อ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.Format("{0} {1}", String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredTitle) ? "-" : ViewBag.QueueMotorFullDetail.InsuredTitle, String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredFirstName) ? "-" : ViewBag.QueueMotorFullDetail.InsuredFirstName))</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">นามสกุล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredLastName) ? "-" : ViewBag.QueueMotorFullDetail.InsuredLastName)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(ViewBag.InsuredBirthDate != null ? String.Format("{0} : {1} ปี", ViewBag.InsuredBirthDate, ViewBag.QueueMotorFullDetail.InsuredAges) : "-")</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">อีเมล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredEmail) ? "-" : ViewBag.QueueMotorFullDetail.InsuredEmail)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredOccupation) ? "-" : ViewBag.QueueMotorFullDetail.InsuredOccupation)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredPhone) ? "-" : ViewBag.QueueMotorFullDetail.InsuredPhone)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredOccupationLevel) ? "-" : ViewBag.QueueMotorFullDetail.InsuredOccupationLevel)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ชื่อหน่วยงาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredOfficeName) ? "-" : ViewBag.QueueMotorFullDetail.InsuredOfficeName)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredOccupationDetail) ? "-" : ViewBag.QueueMotorFullDetail.InsuredOccupationDetail)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                                <div class="col-md-3">
                                                    <label class="control-label " style="text-align:left">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredAddress) ? "-" : ViewBag.QueueMotorFullDetail.InsuredAddress)</label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                    }
                    else if (ViewBag.QueueMotorFullDetail.InsuredTypeDetail == "บริษัท")
                    {
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">ผู้เอาประกัน</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทของผู้เอาประกัน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.InsuredTypeDetail)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">เลขที่นิติบุคคล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredIdentityCard) ? "-" : ViewBag.QueueMotorFullDetail.InsuredIdentityCard)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">นิติบุคคล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredFirstName) ? "-" : ViewBag.QueueMotorFullDetail.InsuredFirstName)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทนิติบุคคล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredCoperateTypeDetail) ? "-" : ViewBag.QueueMotorFullDetail.InsuredCoperateTypeDetail)</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">รหัสบริษัท :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredCoperateCode) ? "-" : ViewBag.QueueMotorFullDetail.InsuredCoperateCode)</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" style="text-align:left">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.InsuredAddress) ? "-" : ViewBag.QueueMotorFullDetail.InsuredAddress)</label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                    }
                    @*end ผู้เอาประกัน *@

                    @* start ผู้ชำระเบี้ย *@
                    <div class="box box-info">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                            <h3 class="box-title">ผู้ชำระเบี้ย</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ประเภทบัตร/หมายเลขบัตร :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerIdentityCard) ? "-" : ViewBag.QueueMotorFullDetail.PayerIdentityCard)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;"></label>
                                            <div class="col-md-3 ">
                                                <label class="control-label "></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ชื่อ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.Format("{0} {1}",String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerTitle) ? "-" : ViewBag.QueueMotorFullDetail.PayerTitle,String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerFirstName) ? "-" : ViewBag.QueueMotorFullDetail.PayerFirstName))</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">นามสกุล :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerLastName) ? "-" : ViewBag.QueueMotorFullDetail.PayerLastName)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(ViewBag.PayerBirthDate != null ? String.Format("{0} : {1} ปี", ViewBag.PayerBirthDate, ViewBag.QueueMotorFullDetail.PayerAges) : "-")</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">อีเมล :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerEmail) ? "-" : ViewBag.QueueMotorFullDetail.PayerEmail)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerOccupation) ? "-" : ViewBag.QueueMotorFullDetail.PayerOccupation)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerPhone) ? "-" : ViewBag.QueueMotorFullDetail.PayerPhone)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerOccupationLevel) ? "-" : ViewBag.QueueMotorFullDetail.PayerOccupationLevel)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">ชื่อหน่วยงาน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerOfficeName) ? "-" : ViewBag.QueueMotorFullDetail.PayerOfficeName)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerOccupationDetail) ? "-" : ViewBag.QueueMotorFullDetail.PayerOccupationDetail)</label>
                                            </div>

                                            <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                            <div class="col-md-3">
                                                <label class="control-label " style="text-align:left">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.PayerAddress) ? "-" : ViewBag.QueueMotorFullDetail.PayerAddress)</label>
                                            </div>
                                        </div>
                                    </div>
                                    @if (ViewBag.CountPayment > 0)
                                    {
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <div class="col-md-2 col-md-offset-9">
                                                    <button type="button" class="btn btn-block" style="background-color: #FAE333;color:white" data-toggle="modal" data-target="#modal-CountPaymentHistory">ชำระเบี้ยให้อีก 2 คน</button>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </fieldset>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    @* end ผู้ชำระเบี้ย *@

                    @* start ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด) *@
                    <div class="box box-info">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                            <h3 class="box-title">ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด)</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-7 control-label" style="color: #005484;">ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด :</label>
                                            <div class="col-md-5" style="text-align:left">
                                                <label class="control-label" style="color: #FF0000">@ViewBag.Driver</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">ชื่อ-สกุล :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.Format("{0} {1} {2}",String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverTitle) ? "-" : ViewBag.QueueMotorFullDetail.DriverTitle,String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverFirstName) ? "-" : ViewBag.QueueMotorFullDetail.DriverFirstName,String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverLastName) ? "-" : ViewBag.QueueMotorFullDetail.DriverLastName))</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(ViewBag.DriverBirthDate != null ? String.Format("{0} : {1} ปี", ViewBag.DriverBirthDate, ViewBag.QueueMotorFullDetail.DriverAges) : "-")</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverPhone) ? "-" : ViewBag.QueueMotorFullDetail.DriverPhone)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label ">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverOccupation) ? "" : ViewBag.QueueMotorFullDetail.DriverOccupation)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverOccupationLevel) ? "" : ViewBag.QueueMotorFullDetail.DriverOccupationLevel)</label>
                                            </div>
                                            <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                            <div class="col-md-3 ">
                                                <label class="control-label">@(String.IsNullOrEmpty(ViewBag.QueueMotorFullDetail.DriverOccupationDetail) ? "" : ViewBag.QueueMotorFullDetail.DriverOccupationDetail)</label>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    @* end ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด) *@

                    @* start ผลการคัดกรอง *@
                    <div class="box box-info">
                        <div class="box-header with-border" style="text-align: center; background: #00C0EF; color: white">
                            <h3 class="box-title">ผลการคัดกรอง</h3>
                            @if (ViewBag.QueueMotorFullDetail.QueueStatusId == 2)
                            {
                                <h4 class="box-title"> : ยังไม่ได้คัดกรอง </h4>
                            }
                        </div><!-- /.box-header -->
                        @if (ViewBag.QueueMotorFullDetail.QueueStatusId != 2)
                        {
                            <div class="box-body">
                                <form id="motorFormQuestionUpdate" action="@Url.Action("MotorQuestionUpdate")" method="post" enctype="multipart/form-data">
                                    <div id="box-ask-1" class="box-body" style="height: auto;width: auto;">
                                        <label>สถานะการคัดกรอง</label>
                                        <ul class="answerList">
                                            <li>
                                                <label>
                                                    <input type="radio" name="motorUnderwriteStatus" value="1" id="motorUnderwriteStatus_1" @(ViewBag.QueueMotorFullDetail.IsUnderwrite == true ? "checked" : "")> คัดกรองแล้ว
                                                </label>
                                            </li>
                                            <li>
                                                <label>
                                                    <input type="radio" name="motorUnderwriteStatus" value="0" id="motorUnderwriteStatus_0" @(ViewBag.QueueMotorFullDetail.IsUnderwrite == false || ViewBag.QueueMotorFullDetail.IsUnderwrite == null ? "checked" : "")> ยังไม่คัดกรอง
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                    <div id="box-ask-2" class="box-body ask-y" style="height: auto; width: auto; display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == true ? "block" : "none")">
                                        @* ช่องทางการคัดกรอง *@
                                        <label>ช่องทางการคัดกรอง</label>
                                        <ul class="answerList">
                                            @if (ViewBag.UnderwriteTypeMotor != null)
                                            {
                                                foreach (var item in ViewBag.UnderwriteTypeMotor)
                                                {
                                                    switch (item.UnderwriteTypeId)
                                                    {
                                                        //เข้าพบลูกค้า
                                                        case 2:
                                                            <li>
                                                                @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == item.UnderwriteTypeId)
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId" checked> เข้าพบเพื่อมอบกรมธรรม์ @*@item.UnderwriteType*@
                                                                    </label>
                                                                    <div class="box-typeselect-@item.UnderwriteTypeId" style="padding-left: 30px;">
                                                                        <label>
                                                                            <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@item.UnderwriteTypeId)" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                                        </label>
                                                                        <label>
                                                                            <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@item.UnderwriteTypeId)" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                                        </label>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId"> @item.UnderwriteType
                                                                    </label>
                                                                }
                                                            </li>
                                                            break;
                                                        //โทรคัดกรองลูกค้า
                                                        @* case 3:
                                                <li>
                                                    @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == item.UnderwriteTypeId)
                                                    {
                                                        <label>
                                                            <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId" checked> @item.UnderwriteType
                                                        </label>
                                                        <div class="box-typeselect-@item.UnderwriteTypeId" style="padding-left: 30px;">
                                                            <label>
                                                                <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@item.UnderwriteTypeId" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                            </label>
                                                            <label>
                                                                <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@item.UnderwriteTypeId" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                            </label>
                                                            <label>
                                                                <span style="color:red">*</span>สาเหตุการโทรคัดกรองลูกค้า
                                                                <textarea name="txtCause" id="txtCause" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;" disabled> @ViewBag.QueueMotorFullDetail.CallCauseRemark</textarea>
                                                            </label>
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <label>
                                                            <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId"> @item.UnderwriteType
                                                        </label>
                                                    }
                                                </li>
                                                break;*@
                                                        default:
                                                            break;
                                                    }

                                                }

                                            }
                                        </ul>
                                    </div>
                                    <div id="box-ask-3" class="box-body ask-y" style="height: auto; width: auto; display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == true ? "block" : "none")">
                                        @* การชำระเบี้ย *@
                                        <label>การชำระเบี้ย</label>
                                        <ul class="answerList">
                                            @if (ViewBag.UnderwritePaymentTypeMotor != null)
                                            {
                                                foreach (var item in ViewBag.UnderwritePaymentTypeMotor)
                                                {
                                                    switch (@item.UnderwritePaymentTypeId)
                                                    {
                                                        case 2:
                                                            <li>
                                                                @if (ViewBag.QueueMotorFullDetail.UnderwritePaymentTypeId == item.UnderwritePaymentTypeId)
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId" checked> @item.UnderwritePaymentTypeDetail
                                                                    </label>
                                                                }
                                                                else
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId"> @item.UnderwritePaymentTypeDetail
                                                                    </label>
                                                                }
                                                            </li>
                                                            break;
                                                        case 4:
                                                            <li>
                                                                @if (ViewBag.QueueMotorFullDetail.UnderwritePaymentTypeId == item.UnderwritePaymentTypeId)
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId" checked> @item.UnderwritePaymentTypeDetail
                                                                    </label>
                                                                }
                                                                else
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId"> @item.UnderwritePaymentTypeDetail
                                                                    </label>
                                                                }
                                                            </li>
                                                            break;
                                                        default:
                                                            break;
                                                    }
                                                }

                                            }
                                        </ul>
                                    </div>

                                    <div id="box-ask-4" class="box-body ask-y" style="height: auto; width: auto; display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == true ? "block" : "none")">
                                        @* การคัดกรอง *@
                                        <label>การคัดกรอง</label>
                                        <ul class="answerList">
                                            @if (ViewBag.QueueMotorFullDetail.IsUnderwritePass == true)
                                            {
                                                <li>
                                                    <label>
                                                        <input type="radio" name="motor" value="1" id="motor_pass" checked> ข้อมูลถูกต้อง
                                                    </label>
                                                    @if (ViewBag.QueueMotorFullDetail.IsUnderwritePassStandard == true)
                                                    {
                                                        <div class="box-motor-pass" style="padding-left:30px;">
                                                            <label>
                                                                <input type="radio" name="motorChildPass" value="1" id="motor-child-pass-std" checked> ตามข้อมูลการสมัครทุกประการ
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="motorChildPass" value="0" id="motor-child-pass-condition"> ติดเงื่อนไข (เฉพาะประกันชั้น 1)
                                                            </label>
                                                        </div>
                                                    }
                                                    @if (ViewBag.QueueMotorFullDetail.IsUnderwritePassCondition == true)
                                                    {
                                                        <div class="box-motor-pass" style="padding-left:30px;">
                                                            <label>
                                                                <input type="radio" name="motorChildPass" value="1" id="motor-child-pass-std"> ตามข้อมูลการสมัครทุกประการ
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="motorChildPass" value="0" id="motor-child-pass-condition" checked> ติดเงื่อนไข (เฉพาะประกันชั้น 1)
                                                            </label>
                                                        </div>
                                                        <div class="sub-box-motor-pass" style="padding-left: 60px;">
                                                            @*   <label>
                                                        <input type="radio" name="IsSpecify" value="1" id="IsSpecify_1" @(ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == true ? "checked" : "")> ระบุในใบสมัคร
                                                    </label>
                                                    <label>
                                                        <input type="radio" name="IsSpecify" value="0" id="IsSpecify_0" @(ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == false ? "checked" : "")> ไม่ระบุในใบสมัคร
                                                    </label>*@

                                                            <label>
                                                                <input type="radio" name="IsSpecify" value="1" id="IsSpecify_1" @((ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == true && ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecifyNotComplete == null) ? "checked" : "")> ระบุในใบสมัครครบถ้วน
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="IsSpecify" value="2" id="IsSpecify_2" @((ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == true && ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecifyNotComplete == true) ? "checked" : "")> ระบุในใบสมัครไม่ครบถ้วน
                                                            </label>
                                                            <label>
                                                                <input type="radio" name="IsSpecify" value="0" id="IsSpecify_0" @((ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == false && ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecifyNotComplete == null) ? "checked" : "")> ไม่ระบุในใบสมัคร
                                                            </label>
                                                            <label>
                                                                <span style="color:red">*</span>*ระบุข้อมูลติดเงื่อนไข
                                                                <textarea name="motorChildPassOtherRemark" id="motorChildPassOtherRemark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.UnderwritePassSpecifyRemark</textarea>
                                                            </label>
                                                        </div>
                                                    }
                                                </li>
                                                <li>
                                                    <label>
                                                        <input type="radio" name="motor" value="0" id="motor_notpass"> ข้อมูลไม่ถูกต้อง
                                                    </label>
                                                </li>

                                            }
                                            else if (ViewBag.QueueMotorFullDetail.IsUnderwritePass == false)
                                            {
                                                <li>
                                                    <label>
                                                        <input type="radio" name="motor" value="1" id="motor_pass"> ข้อมูลถูกต้อง
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                        <input type="radio" name="motor" value="0" id="motor_notpass" checked> ข้อมูลไม่ถูกต้อง
                                                    </label>
                                                    <div class="box-motor-notpass" style="padding-left:30px;">
                                                        <label>
                                                            <input type="checkbox" name="motorChildNotPass" value="denymotor" id="motor-child-notpass-motor" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassVehicleSpec == true ? "checked" : "")>สภาพรถยนต์ไม่ตรงตามใบสมัคร
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="motorChildNotPass" value="denyOccupation" id="motor-child-notpass-occupation" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassVehicleUseType == true ? "checked" : "")> ประเภทการใช้งานผิดประเภท
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="motorChildNotPass" value="denyCantPay" id="motor-child-notpass-cantpay" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassCantPay == true ? "checked" : "")> ไม่สามารถชำระเบี้ยตามเงื่อนไขได้
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="motorChildNotPass" value="denyCantContact" id="motor-child-notpass-cantcontact" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassCantContact == true ? "checked" : "")> ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย
                                                        </label>
                                                        <label>
                                                            <input type="checkbox" name="motorChildNotPass" value="denyOther" id="motor-child-notpass-other" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassOther == true ? "checked" : "")> อื่นๆ
                                                        </label>
                                                        <label>
                                                            <span style="color:red">*</span>หมายเหตุ/บันทึกเพิ่มเติม
                                                            <textarea name="motorChildNotPassOtherRemark" id="motorChildNotPassOtherRemark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;" disabled>@ViewBag.QueueMotorFullDetail.UnderwriteUnPassOtherRemark</textarea>
                                                        </label>
                                                    </div>
                                                </li>
                                            }
                                        </ul>
                                    </div>
                                    <div id="box-ask-5" class="box-body ask-y" style="height: auto; width: auto; display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == true ? "block" : "none")">
                                        @* หมายเหตุ/บันทึกเพิ่มเติม *@
                                        <label>หมายเหตุ/บันทึกเพิ่มเติม</label>
                                        <ul class="answerList">
                                            <li>
                                                <textarea name="remark" id="remark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.QueueResultRemark</textarea>
                                            </li>
                                        </ul>
                                    </div>
                                    @* สถานะการโทร *@
                                    <div id="box-ask-6" class="box-body ask-n" style="height: auto; width: auto;display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == false ? "block" : "none") ">
                                        <label>สถานะการโทร</label>
                                        <ul class="answerList">
                                            <li>
                                                @if (ViewBag.CallStatusListMotor != null)
                                                {
                                                    foreach (var i in ViewBag.CallStatusListMotor)
                                                    {
                                                        if (i.CallStatusId != 2)
                                                        {
                                                            <label>
                                                                <input type="radio" name="callStatus" class="answerList" value="@i.CallStatusId" id="callStatus_@(i.CallStatusId)" @(ViewBag.QueueMotorFullDetail.CallStatusId == i.CallStatusId ? "checked" : "")> @i.CallStatus
                                                            </label>
                                                        }
                                                    }
                                                }
                                            </li>
                                        </ul>
                                    </div>
                                    @* end สถานะการโทร *@
                                    @* สถานะการเข้าพบ *@
                                    <div id="box-ask-7" class="box-body ask-n" style="height: auto;width: auto;display:@(ViewBag.QueueMotorFullDetail.IsUnderwrite == false ? "block" : "none")">
                                        <label>สถานะการเข้าพบ</label>
                                        <ul class="answerList">
                                            <li>
                                                <label>
                                                    <input type="checkbox" name="foundCustomer" class="answerList" value="0" id="foundCustomer_0" @(ViewBag.QueueMotorFullDetail.IsNotFoundCustomer == true ? "checked" : "" )> ไม่พบลูกค้า
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                    @* end สถานะการเข้าพบ *@

                                    @if (ViewBag.QueueMotorFullDetail.GiveTypeId != null)
                                    {
                                        <div class="col-sm-12" id="sectionGivecard">
                                            <div class="box box-info">
                                                <div class="box-header" style="background-color: #b3eeff;text-align:center">
                                                    <h4 class="box-title">บันทึกการมอบกรมธรรม์ประกันรถยนต์ </h4>
                                                </div>
                                                <div class="box-body" style="height: auto;width: auto;">
                                                    @*<div class="form-group col-md-12">
                                                <label class="col-md-2 control-label">  มอบบัตร CoBrand<span style="color:red">*</span></label>
                                                <div class="col-md-6 ">
                                                    <input class="form-control" id="txtCoBrand" name="txtCoBrand" type="text" value="@ViewBag.QueueMotorFullDetail.QueuePoliciesId" disabled />
                                                </div>
                                            </div>*@
                                                    <div class="form-group col-md-12">
                                                        <label class="col-md-3 control-label"> วันที่บันทึกมอบกรมธรรม์<span style="color:red">*</span></label>
                                                        <div class="col-md-6 ">
                                                            <input class="form-control" id="txtGiveDate" name="txtGiveDate" type="text" value="@(ViewBag.GiveDate != null ? ViewBag.GiveDate:"-")" disabled />
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <label class="col-md-3 control-label">  ประเภทการมอบกรมธรรม์<span style="color:red">*</span></label>
                                                        <div class="col-md-6 ">
                                                            <input class="form-control" id="txtGiveType" name="txtGiveType" type="text" value="@ViewBag.QueueMotorFullDetail.GiveType " disabled />
                                                        </div>
                                                    </div>
                                                    @if (ViewBag.QueueMotorFullDetail.GiveTypeId == 4)
                                                    {
                                                        <div class="form-group col-md-12">
                                                            <label class="col-md-3 control-label">  เลขพัสดุ<span style="color:red">*</span></label>
                                                            <div class="col-md-6 ">
                                                                <input class="form-control" id="txtTrackingNo" name="txtTrackingNo" type="text" value="@ViewBag.QueueMotorFullDetail.TrackingNo" disabled />
                                                            </div>
                                                        </div>
                                                    }
                                                    @if (ViewBag.QueueMotorFullDetail.GiveTypeId == 7)
                                                    {
                                                        <div class="form-group col-md-12">
                                                            <label class="col-md-3 control-label">
                                                                หมายเหตุกรณีเลือกอื่นๆ
                                                                <span style="color:red">*</span>
                                                            </label>
                                                            <div class="col-md-6 ">
                                                                <input class="form-control" id="txtGiveTypeRemark" name="txtGiveTypeRemark" type="text" value="@ViewBag.QueueMotorFullDetail.GiveTypeRemark" disabled />
                                                            </div>
                                                        </div>
                                                    }
                                                    <div class="form-group col-md-12">
                                                        <label class="col-md-3 control-label">  ผู้มอบกรมธรรม์<span style="color:red">*</span></label>
                                                        <div class="col-md-6 ">
                                                            <input class="form-control" id="txtGiver" name="txtGiver" type="text" value="@ViewBag.QueueMotorFullDetail.GiverEmployeeName" disabled />
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <label class="col-md-3 control-label">แนบรูปภาพมอบกรมธรรม์</label>
                                                        <div class="col-md-6 ">
                                                            <a href="javascript:void();" class="pop">
                                                                <img id="myImg" src="@ViewBag.QueueMotorFullDetail.URLPath" alt="@ViewBag.QueueMotorFullDetail.FileName" style="width:100%;max-width:100px">
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </form>
                                @*<div style="text-align:center;">
                            <div class="col-md-12">
                                <input type="button" style=" background-color: #00C0EF;color:white;" class="btn btn-lg col-md-2 col-md-offset-5" name="btnSubmit" id="btnSubmit" value="ย้อนกลับ" />
                            </div>
                        </div>*@
                                @* check status ยกเลิกก่อน DCR *@
                                @if (ViewBag.QueueMotorFullDetail.QueueStatusId != 7)
                                {
                                    if (ViewBag.hiddenButton == false)
                                    {
                                        <!--1  n/a-->
                                        <!--2 รอพิจารณา-->
                                        <!--6 เกินกำหนดยังไม่ได้พิจารณา-->
                                        if (ViewBag.QueueMotorFullDetail.ApproveStatusId == 1 || ViewBag.QueueMotorFullDetail.ApproveStatusId == 2)
                                        {
                                            if (ViewBag.AccessRole == "DEV" || ViewBag.AccessRole == "CM" || ViewBag.AccessRole == "CM_DIR")
                                            {
                                                <!--section CM-->
                                                <!--<div id="sectionCM">
                                        <div class="col-sm-12">
                                            <div class="box box-info">
                                                <div class="box-header col-md-12" id="sectionCM-header" style="background-color: #b3eeff; text-align:center;height:50px">
                                                    <h4 class="box-title" id="sectionCM-title">ผลการพิจารณาประธานสาขา </h4>
                                                </div>
                                                <div style="text-align:center;padding: 10px">
                                                    <button name="btnCM" id="btnApprove" class="form-control btn btn-success" value="1" style="width: 230px;margin:5px;">อนุมัติให้ผ่านคัดกรอง</button>
                                                    <button name="btnCM" id="btnApproveCondition" class="form-control btn btn-warning" value="2" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-approved-condition">อนุมัติให้ผ่านคัดกรองแบบติดเงื่อนไข</button>
                                                    <button name="btnCM" id="btnUnApprove" class="form-control btn btn-danger" value="0" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-unapproved">อนุมัติไม่ให้ผ่านคัดกรอง</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>-->
                                            }
                                        }
                                        else if (ViewBag.QueueMotorFullDetail.ApproveStatusId == 6 && (ViewBag.AccessRole == "CM_DIR_BPT" || ViewBag.AccessRole == "CM_BPT" || ViewBag.AccessRole == "DIR_BPT" || ViewBag.AccessRole == "BPT" || ViewBag.AccessRole == "DEV"))
                                        {
                                            <!--section CM-->
                                            @*<div id="sectionCM">
                                        <div class="col-sm-12">
                                            <div class="box box-info">
                                                <div class="box-header col-md-12" id="sectionCM-header" style="background-color: #b3eeff; text-align:center;height:50px">
                                                    <h4 class="box-title" id="sectionCM-title">ผลการพิจารณาประธานสาขา </h4>
                                                </div>
                                                <div style="text-align:center;padding: 10px">
                                                    <button name="btnCM" id="btnApprove" class="form-control btn btn-success" value="1" style="width: 230px;margin:5px;">อนุมัติให้ผ่านคัดกรอง</button>
                                                    <button name="btnCM" id="btnApproveCondition" class="form-control btn btn-warning" value="2" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-approved-condition">อนุมัติให้ผ่านคัดกรองแบบติดเงื่อนไข</button>
                                                    <button name="btnCM" id="btnUnApprove" class="form-control btn btn-danger" value="0" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-unapproved">อนุมัติไม่ให้ผ่านคัดกรอง</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>*@
                                        }
                                        else if (ViewBag.QueueMotorFullDetail.ApproveStatusId != null && ViewBag.QueueMotorFullDetail.ApproveStatusId != 1 && ViewBag.QueueMotorFullDetail.ApproveStatusId != 2)
                                        {
                                            <!--section CM Result-->
                                            @* <div id="sectionCMResult" style="display:block">
                                        <div class="col-sm-12 pd-xs-0">
                                            <div class="box box-info">
                                                <div class="box-header" style="background-color: #91E9FF; position: relative; text-align: center">
                                                    <h4 class="box-title">
                                                        ผลการพิจารณาอนุมัติของประธานสาขา
                                                        @if (((ViewBag.AccessRole == "DEV" || ViewBag.AccessRole == "CM" || ViewBag.AccessRole == "CM_DIR") && ViewBag.IsEdit == true))
                                                        {<text><button id="btnCMEdit" class="btn pull-right" data-toggle="collapse" data-target="#sectionCMEdit" style="position: absolute; bottom: 5px; right: 5px; background-color: #283FC2;color:whitesmoke">แก้ไขผลการพิจารณา</button></text>}
                                                    </h4>
                                                </div>
                                                <div id="box-cmapprove-result" class="box-body" style="height: auto;width: auto;">
                                                    <ul>
                                                        <li>
                                                            <span>
                                                                <strong>ผลการพิจารณา :</strong>
                                                            </span>
                                                            @switch (ViewBag.QueueMotorFullDetail.ApproveStatusId)
                                                            {
                                                                case 3:
                                                                    <span class="label label-success" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                    break;
                                                                case 4:
                                                                    <span class="label label-warning" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                    break;
                                                                case 5:
                                                                    <span class="label label-danger" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                    break;
                                                                default:
                                                                    <span class="label label-default" name="lblCMStatusApprove" id="lblCMStatusApprove">-</span>
                                                                    break;
                                                            }
                                                        </li>
                                                        <li id="li-detail">
                                                            @switch (ViewBag.QueueMotorFullDetail.ApproveStatusId)
                                                            {
                                                                case 3:
                                                                    break;
                                                                case 4:
                                                                    if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwritePassIsSpecify == true)
                                                                    {
                                                                        <span><strong>หมายเหตุ :</strong> </span> <ul style="list-style-type:initial;"><li>ติดเงื่อนไข-ระบุในใบสมัคร</li></ul>
                                                                        <span><strong>ข้อมูลข้อยกเว้น :</strong> </span> <ul style="list-style-type:initial;"><li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != null && ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark : "-")</li></ul>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span><strong>หมายเหตุ :</strong> </span> <ul style="list-style-type:initial;"><li>ติดเงื่อนไข-ไม่ระบุในใบสมัคร</li></ul>
                                                                        <span><strong>ข้อมูลข้อยกเว้น :</strong> </span> <ul style="list-style-type:initial;"><li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != null && ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark : "-")</li></ul>

                                                                    }
                                                                    break;
                                                                case 5:
                                                                    <span><strong>หมายเหตุ :</strong> </span>
                                                                    <ul style="list-style-type:initial;">
                                                                        @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleSpec == true)
                                                                        {
                                                                            <li>สภาพรถยนต์ไม่ตรงตามใบสมัคร</li>
                                                                        }
                                                                        @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleUseType == true)
                                                                        {
                                                                            <li>ประเภทการใช้งานผิดประเภท</li>
                                                                        }
                                                                        @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantPay == true)
                                                                        {
                                                                            <li>ไม่สามารถชำระเบี้ยตามเงื่อนไขได้</li>
                                                                        }
                                                                        @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantContact == true)
                                                                        {
                                                                            <li>ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย</li>
                                                                        }
                                                                        @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassOther == true)
                                                                        {
                                                                            <li>อื่นๆ</li>
                                                                            //ถ้าเป็น string empty ให้แสดง -
                                                                            <li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwriteUnPassOtherRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwriteUnPassOtherRemark : "-")</li>
                                                                        }
                                                                    </ul>
                                                                    break;
                                                                default:
                                                                    break;
                                                            }
                                                        </li>
                                                        @if (ViewBag.QueueMotorFullDetail.ApproveRemark != "")
                                                        {
                                                            <li style="border-bottom: solid 1px;padding-bottom: 10px; margin-bottom: 10px;">
                                                                <span>
                                                                    <strong>หมายเหตุ :</strong>
                                                                </span>
                                                                <span name="lblCMRemark" id="lblCMRemark">@ViewBag.QueueMotorFullDetail.ApproveRemark</span>
                                                            </li>
                                                        }

                                                        <li>
                                                            <span>
                                                                <strong>ผู้พิจารณา :</strong>
                                                            </span>
                                                            <span name="lblCMName" id="lblCMName">@(ViewBag.QueueMotorFullDetail.ApproveByChairmanName != null ? ViewBag.QueueMotorFullDetail.ApproveByChairmanName : "-")</span>
                                                        </li>
                                                        <li>
                                                            <span>
                                                                <strong>วันที่พิจารณา :</strong>
                                                            </span>
                                                            <span name="lblCMName" id="lblCMName">@(ViewBag.QueueMotorFullDetail.ApproveDate != null ? ViewBag.QueueMotorFullDetail.ApproveDate : "-")</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>*@

                                            <!--section CM Edit-->
                                            @*<div id="sectionCMEdit" class="collapse">
                                        <div class="col-sm-12">
                                            <div class="box box-warning">
                                                <div class="box-header" style="background-color: #ffd243">
                                                    <h4 class="box-title" id="sectionCM-title">แก้ไขผลการพิจารณา</h4>
                                                </div>
                                                <div style="text-align:center;padding: 10px">
                                                    <button name="btnCMEdit" id="btnApprove" class="form-control btn btn-success" value="1" style="width: 230px;margin:5px;">อนุมัติให้ผ่านคัดกรอง</button>
                                                    <button name="btnCMEdit" id="btnApproveCondition" class="form-control btn btn-warning" value="2" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-approved-condition">อนุมัติให้ผ่านคัดกรองแบบติดเงื่อนไข</button>
                                                    <button name="btnCMEdit" id="btnUnApprove" class="form-control btn btn-danger" value="0" style="width: 230px;margin:5px;" data-toggle="modal" data-target="#modal-unapproved">อนุมัติไม่ให้ผ่านคัดกรอง</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>*@
                                        }
                                    }

                                }
                            </div>
                        }
                        <!-- /.box-body -->
                    </div><!-- /.box -->
                </div>
                @* end ผลการคัดกรอง *@
                <!-- /.tab-pane -->
                <div class="tab-pane" id="tab_2">
                    <div id="overlay"></div>
                    <div id="Document_form" class="form-horizontal" style="padding:10px 15px 10px 15px">
                        <!-- #region เอกสารแนบผู้เอาประกัน -->
                        <div class="box box-header box-solid">
                            <ul class="list-unstyled ">
                                <li>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header">
                                                    <h5 class="card-title">เอกสารแนบผู้เอาประกัน</h5>
                                                    <br />
                                                </div>

                                                <div class="card-body table-responsive p-0">
                                                    <table class="table table-hover text-nowrap">
                                                        <thead style="margin: 5px; text-align:center; background: #D1F1FF; color: black ">
                                                            <tr>
                                                                @*<th>รหัสเอกสาร</th>*@
                                                                <th>ประเภทเอกสาร</th>
                                                                <th>จำนวน</th>
                                                                <th>รายละเอียด</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{
                                                                var allFiles = ViewBag.docFile as IEnumerable<SmileUnderwriteBranchV2.Controllers.MotorUnderwriteController.subDataResponse>;
                                                                if (ViewBag.documentResult != null && allFiles.Count() > 0)
                                                                {
                                                                    foreach (var item in ViewBag.documentResult)
                                                                    {
                                                                        if (item.DocumentSubTypeId == 194)
                                                                        {
                                                                            foreach (var file in allFiles.Where(w => w.documentCode == item.DocumentCode))
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@file.documentCode</td>*@
                                                                                    <td>รายการจดทะเบียนรถ</td>
                                                                                    <td>@file.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@file.documentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                        if (item.DocumentSubTypeId == 195)
                                                                        {
                                                                            foreach (var file in allFiles.Where(w => w.documentCode == item.DocumentCode))
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@file.documentCode</td>*@
                                                                                    <td>ใบคำขอเอาประกัน</td>
                                                                                    <td>@file.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@file.documentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- #endregion -->
                        <!-- #region เอกสารแนบผู้ชำระเบี้ย -->
                        <div class="box box-header box-solid">
                            <ul class="list-unstyled ">
                                <li>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header">
                                                    <h5 class="card-title">เอกสารแนบผู้ชำระเบี้ย</h5>
                                                    <br />
                                                </div>

                                                <div class="card-body table-responsive p-0">
                                                    <table class="table table-hover text-nowrap">
                                                        <thead style="margin: 5px; text-align:center; background: #D1F1FF; color: black ">
                                                            <tr>
                                                                @*<th>รหัสเอกสาร</th>*@
                                                                <th>ประเภทเอกสาร</th>
                                                                <th>จำนวน</th>
                                                                <th>รายละเอียด</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                            {
                                                                foreach (var item1 in ViewBag.documentResult)
                                                                {
                                                                    foreach (var item2 in ViewBag.docFile)
                                                                    {
                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 196)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>สำเนาบัตรประชาชนผู้ชำระเบี้ย</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }

                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 197)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>หนังสือยินยอมให้หักบัญชีเงินฝาก</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }

                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 198)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>หน้าบัญชีธนาคาร</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- #endregion -->
                        <!-- #region เอกสารการให้การยินยอม การเก็บ รวบรวม ใช้ เปิดเผยข้อมูลส่วนบุคคล -->
                        <div class="box box-header box-solid">
                            <ul class="list-unstyled ">
                                <li>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header">
                                                    <h5 class="card-title">เอกสารการให้การยินยอม การเก็บ รวบรวม ใช้ เปิดเผยข้อมูลส่วนบุคคล</h5>
                                                    <br />
                                                </div>

                                                <div class="card-body table-responsive p-0">
                                                    <table class="table table-hover text-nowrap">
                                                        <thead style="margin: 5px; text-align: center; background: #D1F1FF; color: black ">
                                                            <tr>
                                                                @*<th>รหัสเอกสาร</th>*@
                                                                <th>ประเภทเอกสาร</th>
                                                                <th>จำนวน</th>
                                                                <th>รายละเอียด</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                            {
                                                                foreach (var item1 in ViewBag.documentResult)
                                                                {
                                                                    foreach (var item2 in ViewBag.docFile)
                                                                    {
                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 199)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>เอกสาร PDPA</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }


                                                                    }
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- #endregion -->
                        <!-- #region รูปถ่ายรถยนต์ -->
                        <div class="box box-header box-solid">
                            <ul class="list-unstyled ">
                                <li>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header">
                                                    <h5 class="card-title">รูปถ่ายรถยนต์</h5>
                                                    <br />
                                                </div>

                                                <div class="card-body table-responsive p-0">
                                                    <table class="table table-hover text-nowrap">
                                                        <thead style="margin: 5px; text-align: center; background: #D1F1FF; color: black ">
                                                            <tr>
                                                                @*<th>รหัสเอกสาร</th>*@
                                                                <th>ประเภทเอกสาร</th>
                                                                <th>จำนวน</th>
                                                                <th>รายละเอียด</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                            {
                                                                foreach (var item1 in ViewBag.documentResult)
                                                                {
                                                                    foreach (var item2 in ViewBag.docFile)
                                                                    {
                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 200)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>รูปรถด้านหน้า</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }

                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 201)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td> รูปรถด้านซ้าย</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }

                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 202)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>รูปรถด้านขวา</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }
                                                                        if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 202)
                                                                        {
                                                                            <tr>
                                                                                @*<td>@item2.documentCode</td>*@
                                                                                <td>รูปรถด้านหลัง</td>
                                                                                <td>@item2.fileCount</td>
                                                                                <td>
                                                                                    <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                        เปิด
                                                                                    </button>
                                                                                </td>
                                                                            </tr>
                                                                        }
                                                                    }
                                                                }
                                                            }

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- #endregion -->

                    </div>
                </div>
                <!-- /.tab-pane -->
                <div id="tab_3" class="tab-pane">
                    <div class="form-horizontal">
                        <table id="tableLog" name="tableLog" class="table table-bordered table-striped display responsive" style="width: 100%">
                            <tbody>
                                <tr style="text-align:center"><td>ไม่พบข้อมูล</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- /.tab-pane -->
            </div>
            <!-- /.tab-content -->
        </div>
        <!-- nav-tabs-custom -->
    </div>
</div>

<!-- The Modal Section CM-->
<form id="formModalApprovedConditionMotor">
    <div class="modal fade" id="modal-approved-condition">
        <!--.modal-dialog -->
        <div class="modal-dialog">
            <!--.modal-content -->
            <div class="modal-content">
                <div class="modal-header" style="background-color:  #ffc318;border-color: #ffc318;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title">รายละเอียดการพิจารณาอนุมัติของประธานสาขา</h4>
                </div>
                <div class="modal-body">
                    <div id="box-approved-contidion" class="box-body" style="height: auto;width: auto;">
                        <ul class="answerList" style="padding-left: 0px !important;">
                            <li>
                                <label>
                                    <input type="radio" name="motorChildPassCM" value="0" id="motor-child-pass-conditionCM"> ติดเงื่อนไข
                                </label>
                                <div style="padding-left:30px;" class="box-motor-notpass">
                                    <label>
                                        <input type="radio" name="IsSpecify_CM" value="1" id="IsSpecify_CM1"> ระบุในใบสมัคร
                                    </label>
                                    <label>
                                        <input type="radio" name="IsSpecify_CM" value="0" id="IsSpecify_CM0"> ไม่ระบุในใบสมัคร
                                    </label>
                                    <label>
                                        <span style="color:red" class="box-motor-notpass">*</span>ระบุข้อมูลติดเงื่อนไข
                                        <textarea name="motorChildPassOtherRemarkCM" id="motorChildPassOtherRemarkCM" style="display: block;border-radius: 5px; margin: 10px;width: 100%;height: 80px;resize: none;"></textarea>
                                    </label>
                                </div>
                                <div style="text-align:center;">
                                    <input type="button" style="width:100px;margin:10px" class="btn btn-lg btn-default" data-dismiss="modal" name="button-cancel-condition" value="ยกเลิก" />
                                    <input type="button" style="width:100px;margin:10px" class="btn btn-lg btn-success" name="button-save-condition" id="button-save-condition" value="บันทึก" />
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</form>

<!--Modal Img-->
<div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <img src="" class="imagepreview" style="width: 100%;">
            </div>
        </div>
    </div>
</div>

<form id="formModalUnapprovedMotor">
    <!--.modal cm -->
    <div class="modal fade" id="modal-unapproved">
        <!--.modal-dialog -->
        <div class="modal-dialog">
            <!--.modal-content -->
            <div class="modal-content">
                <div class="modal-header" style="background-color:  #f67083;border-color: #f67083;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title">รายละเอียดการพิจารณาอนุมัติของประธานสาขา</h4>
                </div>
                <div class="modal-body">
                    <div id="box-unapproved" class="box-body" style="height: auto;width: auto;">
                        <ul class="answerList" style="padding-left: 0px !important;">
                            <li>
                                <label>
                                    <input type="radio" name="motorCM" value="0" id="motor_notpassCM"> ข้อมูลไม่ถูกต้อง
                                </label>
                                <div class="box-motor-notpass" style="padding-left:30px;">
                                    <label>
                                        <input type="checkbox" name="motorChildNotPassCM" value="denyMotor" id="motor-child-notpass-motorCM">สภาพรถยนต์ไม่ตรงตามใบสมัคร
                                    </label>
                                    <label>
                                        <input type="checkbox" name="motorChildNotPassCM" value="denyOccupation" id="motor-child-notpass-occupationCM"> ประเภทการใช้งานผิดประเภท
                                    </label>
                                    <label>
                                        <input type="checkbox" name="motorChildNotPassCM" value="denyCantPay" id="motor-child-notpass-cantpayCM"> ไม่สามารถชำระเบี้ยตามเงื่อนไขได้
                                    </label>
                                    <label>
                                        <input type="checkbox" name="motorChildNotPassCM" value="denyCantContact" id="motor-child-notpass-cantcontactCM"> ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย
                                    </label>
                                    <label>
                                        <input type="checkbox" name="motorChildNotPassCM" value="denyOther" id="motor-child-notpass-otherCM"> อื่นๆ
                                    </label>
                                    <label>
                                        <span style="color:red">*</span>หมายเหตุ/บันทึกเพิ่มเติม
                                        <textarea name="motorChildNotPassOtherRemarkCM" id="motorChildNotPassOtherRemarkCM" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;" disabled></textarea>
                                    </label>
                                </div>
                                <div style="text-align:center;">
                                    <input type="button" style="width:100px;margin:10px" class="btn btn-lg btn-default" data-dismiss="modal" name="button-cancel" value="ยกเลิก" />
                                    <input type="button" style="width:100px;margin:10px" class="btn btn-lg btn-success" name="button-save-unapproved" id="button-save-unapproved" value="บันทึก" />
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--/.modal -->
    <!--.modal -->
    <div class="modal fade" id="modal-warning">
        <!--.modal-dialog -->
        <div class="modal-dialog">
            <!--.modal-content -->
            <div class="modal-content">
                <div class="modal-header" style="background-color: #ffd243;border-color: #ffeeba;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" style="color: black;">×</span>
                    </button>
                    <h4 class="modal-title">รายละเอียด</h4>
                </div>
                <div class="modal-body">
                    <table id="tablePayerOther" class="table table-bordered table-striped display responsive" style="width: 100%"></table>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--/.modal -->
</form>

@section ViewSpecificJavascript
    {
    <script type="text/javascript">
        var chat;
        var motorVal;
        var typeSelectVal;
        var countFile = 0;
        var imgUrlPath;
        var imgPhysicalPath;

        var CMApproveStatusId;
        var CMIsApprovePassCondition = null;
        var CMRemark = null;
        var CMSpecify = null;
        var CMDenyMotor = null;
        var CMDenyOccupation = null;
        var CMDenyCantPay = null;
        var CMDenyCantContact = null;
        var CMDenyOther = null;
        var CMDenyRemark = null;
        var CMResultPassSpecifyRemark = null;

        $(function () {
            var group = {
                headerToolbar: [
                    'maximize',
                    'close'
                ],
                footerToolbar: [
                    'zoomIn',
                    'zoomOut',
                    'prev',
                    'fullscreen',
                    'next',
                    'actualSize',
                    //'rotateLeft',
                    'rotateRight',
                    //'myCustomButton'
                ],
                customButtons: {
                    myCustomButton: {
                        text: '',
                        title: '',
                        click: function (context, e) {
                            //todo
                        }
                    }
                },
                modalWidth: 400,
                modalHeight: 400,
                callbacks: {
                    beforeChange: function (context, index) {
                        //todo
                    },
                    changed: function (context, index) {
                        //todo
                    },
                    opened: function (context) {
                        $('#overlay').css("display", "block");

                    },
                    closed: function (context) {
                        $('#overlay').css("display", "none");
                    },
                }
            }

            $('[data-magnify="IDcard"]').magnify(group);
            $('[data-magnify="img"]').magnify(group);
            $('[data-magnify="register"]').magnify(group);
            $('[data-magnify="receipt"]').magnify(group);
            $('[data-magnify="consent"]').magnify(group);
            $('[data-magnify="bank"]').magnify(group);
            $('[data-magnify="other"]').magnify(group);

            if (!isWindows()) {
                $('#DocDetail_form').hide();
            }

            //Date
            var date = new Date();
            $('#txtCoBrandDate').val(`${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear() + 543}`);

            //disabled element input
            $("#motorFormQuestionUpdate :input").prop("disabled", true);
            $("#motorFormQuestionUpdate label").css("cursor", "not-allowed");

            $('#btnSubmit').click(function () {
                window.close();
            })

            // click img
            $('.pop').on('click', function () {
                $('.imagepreview').attr('src', $(this).find('img').attr('src'));
                $('#imagemodal').modal('show');
            });

            /*Event if checked*/
            //สถานะการคัดกรอง
            $('input[name=motorUnderwriteStatus]').on("ifChecked",
                function (e) {
                    if ($(this).valid()) {
                        switch ($(this).val()) {
                            case '1':
                                console.log($(this).val());
                                $(".ask-y").show();
                                $(".ask-n").hide();
                                $('.ask-n').find("input").iCheck('uncheck');
                                $('.box-typeselect-2').hide();
                                $('.box-typeselect-3').hide();
                                $('.box-motor-pass').hide();
                                $('.box-motor-notpass').hide();
                                $('textarea[name=motorChildPassOtherRemark]').val('');
                                $('textarea[name=motorChildNotPassOtherRemark]').val('');
                                $('textarea[name=remark]').val('');
                                $('#sectionGivemotord').hide();
                                break;
                            case '0':
                                console.log($(this).val());
                                $(".ask-y").hide();
                                $(".ask-n").show();
                                $('.ask-y').find("input").iCheck('uncheck');
                                $('.box-typeselect-2').hide();
                                $('.box-typeselect-3').hide();
                                $('.box-motor-pass').hide();
                                $('.box-motor-notpass').hide();
                                $('textarea[name=motorChildPassOtherRemark]').val('');
                                $('textarea[name=motorChildNotPassOtherRemark]').val('');
                                $('textarea[name=remark]').val('');
                                $('#sectionGivemotord').hide();
                                break;
                            default:
                        }
                    }

                });

            //การคัดกรอง
            $('input[name=motor]').on('ifChecked', function (e) {
                motorVal = $(this).val();
                if ($(this).valid()) {
                    switch ($(this).val()) {
                        case '1': //ข้อมูลถูกต้อง
                            console.log($(this).val());
                            $('.box-motor-pass').show();
                            $('.child-pass').show();
                            $('.box-motor-notpass').hide();
                            $('input[name=motorChildPass]').iCheck('uncheck');
                            $('input[name=IsSpecify]').iCheck('uncheck');
                            $('input[name=motorChildNotPass]').iCheck('uncheck');
                            break
                        case '0': //ข้อมูลไม่ถูกต้อง
                            console.log($(this).val());
                            $('.box-motor-pass').hide();
                            $('.child-pass').hide();
                            $('.sub-box-motor-pass').hide();
                            $('.box-motor-notpass').show();
                            $('input[name=motorChildPass]').iCheck('uncheck');
                            $('input[name=IsSpecify]').iCheck('uncheck');
                            $('input[name=motorChildNotPass]').iCheck('uncheck');
                            $('textarea[name=motorChildPassOtherRemark]').val('');
                            break
                        default:
                    }
                }

            });

            //ผ่านคัดกรอก ติดเงื่อไข
            $('input[name=motorChildPass]').on('ifChecked',
                function (e) {
                    if ($(this).valid()) {
                        switch ($(this).val()) {
                            case '1': //ผ่านตามมาตรฐาน
                                $('textarea[name=motorChildPassOtherRemark]').val('');
                                $('.sub-box-motor-pass').hide();
                                $('input[name=IsSpecify]').iCheck('uncheck');
                                break;
                            case '0'://ติดข้อยกเว้น
                                $('.sub-box-motor-pass').show();
                                break;
                            default:
                        }
                    }
                });

            //checkbox healthChildNotPass
            $('input[name=motorChildNotPass]').on('ifChanged', function () {
                if ($(this).is(':checked')) {
                    switch ($(this).val()) {
                        case "denyOther":
                            $('textarea[name=motorChildNotPassOtherRemark]').prop('disabled', false);
                            break;
                        default:
                    }
                } else {
                    switch ($(this).val()) {
                        case "denyOther":
                            $('textarea[name=motorChildNotPassOtherRemark]').val('');
                            $('textarea[name=motorChildNotPassOtherRemark]').prop('disabled', true);
                            break
                        default:
                    }
                }
            });

            //ช่องทางการคัดกรอง
            $('input[name=typeSelect]').on('ifChecked',
                function (e) {
                    if ($(this).valid()) {
                        typeSelectVal = $(this).val();
                        switch ($(this).val()) {
                            case '2': //เข้าพบ
                                console.log($(this).val());
                                $('.box-typeselect-2').show();
                                $('.box-typeselect-3').hide();
                                $('input[name=typeSelectChild]').iCheck('uncheck');
                                break;
                            case '3': //โทรคัดกรอง
                                console.log($(this).val());
                                $('.box-typeselect-2').hide();
                                $('.box-typeselect-3').show();
                                $('input[name=typeSelectChild]').iCheck('uncheck');
                                break;
                            default:
                        }
                    }
                });

            //checkbox notpass CM
            $('input[name=motorChildNotPassCM]').on('ifChanged', function () {
                if ($(this).is(':checked')) {
                    switch ($(this).val()) {
                        case "denyMotor":
                            CMDenyMotor = true;
                            break;
                        case "denyOccupation":
                            CMDenyOccupation = true;
                            break;
                        case "denyCantPay":
                            CMDenyCantPay = true;
                            break;
                        case "denyCantContact":
                            CMDenyCantContact = true;
                            break;
                        case "denyOther":
                            CMDenyOther = true;
                            //อื่นๆ เปิดช่องหมายเหตุ
                            $('#motorChildNotPassOtherRemarkCM').prop('disabled', false)
                            break;
                        default:
                    }
                } else {
                    //ปิด
                    $('#motorChildNotPassOtherRemarkCM').attr('disabled', true)
                    switch ($(this).val()) {
                        case "denyMotor":
                            CMDenyMotor = null;
                            break
                        case "denyOccupation":
                            CMDenyOccupation = null;
                            break
                        case "denyCantPay":
                            CMDenyCantPay = null;
                            break
                        case "denyCantContact":
                            CMDenyCantContact = null;
                            break
                        case "denyOther":
                            CMDenyOther = null;
                            break
                        default:
                    }
                }
            });

            //button CM Edit approve
            $('button[name=btnCMEdit]').click(function (e) {
                var motorResult = $('input[name=motor]:checked').val();
                var motorChildPass = $('input[name=motorChildPass]:checked').val();

                var IsmotorMotorPassCM;
                switch (parseInt($(this).val())) {

                    case 1: //อนุมัติให้ผ่านคัดกรอง
                        CMApproveStatusId = 3; //ผ่านคัดกรอง
                        IsmotorMotorPassCM = 1; //ใช้เช็ค ตามมาตรฐาน
                        CMIsApprovePassCondition = false; // ไม่ใช่ผ่านแบบมีเงื่อนไข
                        break;
                    case 2: //อนุมัติให้ผ่านคัดกรองแบบติดเงื่อนไข
                        CMApproveStatusId = 4; //ผ่านคัดกรอง ติดเงื่อนไข
                        IsmotorMotorPassCM = 0; //ใช้เช็ค ติดเงื่อนไขข้อยกเว้น
                        CMIsApprovePassCondition = true; // ผ่านแบบมีเงื่อนไข
                        ClearResultPassConditionCM(); //clear ทิ้ง
                        $('input[id=motor-child-pass-conditionCM]').iCheck('check'); // set ให้ใหม่
                        break;
                    case 0: //อนุมัติไม่ให้ผ่าน
                        CMApproveStatusId = 5; //ไม่ให้ผ่านคัดกรอง
                        ClearResultNotPassCM(); //clear ทิ้ง
                        $('input[id=motor_notpassCM]').iCheck('check'); // set ให้ใหม่
                        break;
                    default:
                }
                //เช็คผล ผอ กับ ประธาน ตรงกันหรือไม่ (2 คือ val button ผ่านแต่แบบติดเงื่อนไข)

                if (parseInt($(this).val()) === parseInt(motorResult) || parseInt($(this).val()) === 2) {
                    //เช็คผล ผอ และประธาน ว่าผ่านตามมาตรฐาน หรือ ติดข้อยกเว้น เหมือนกันหรือไม่
                    if (parseInt(motorChildPass) === parseInt(IsmotorMotorPassCM) && motorChildPass != null && motorChildPass != 'undefined' && IsmotorMotorPassCM != null && IsmotorMotorPassCM != 'undefined') {
                        //เช็คผ่านแบบมาตรฐาน
                        if (parseInt($(this).val()) === 1) {
                            swal({
                                title: "ยืนยันบันทึกข้อมูล",
                                text: 'รายละเอียดเพิ่มเติม',
                                type: 'input',
                                showCancelButton: true,
                                confirmButtonColor: '#277020',
                                confirmButtonText: 'ยืนยัน',
                                cancelButtonText: 'ยกเลิก',
                                closeOnConfirm: false,
                                closeOnEsc: false,
                                closeOnCancel: true
                            }, function (inputValue) {
                                if (inputValue === false) return false;

                                //if (inputValue === "") {
                                //    swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                //    return false
                                //}
                                CMRemark = inputValue;
                                FuncCMApproveUpdate();
                            });
                        }
                        //เช็คผ่านแบบติดเงื่อนไข
                        else if (parseInt($(this).val()) === 2) {

                            //Set Default
                            SetResultPassConditionCMEdit();

                            //Assign Value PassOtherRemarkCM To Variable
                            CMResultPassSpecifyRemark = $('#motorChildPassOtherRemarkCM').val();
                        }
                    }
                    //ไม่ผ่านคัดกรอง
                    else if (parseInt($(this).val()) === 0) {
                        //Set Default
                        SetResultNotPassCMEdit();
                    } else {
                        //เช็คไม่เท่ากับ 2 คือไม่ใช่แบบติดเงื่อนไข  (2 จะแสดง modal )
                        if (parseInt($(this).val()) != 2) {
                            swal({
                                title: "โปรดระบุเหตุผลในการเปลี่ยนแปลง",
                                text: '',
                                type: 'input',
                                showCancelButton: true,
                                confirmButtonColor: '#277020',
                                confirmButtonText: 'ยืนยัน',
                                cancelButtonText: 'ยกเลิก',
                                closeOnConfirm: false,
                                closeOnEsc: false,
                                closeOnCancel: true
                            }, function (inputValue) {
                                if (inputValue === false) return false;

                                if (inputValue === "") {
                                    swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                    return false
                                }
                                CMRemark = inputValue;
                                FuncCMApproveUpdate();
                            });

                        } else if (parseInt($(this).val()) === 2) {
                            //Set Default
                            SetResultPassConditionCMEdit();

                            CMResultPassSpecifyRemark = $('#motorChildPassOtherRemarkCM').val();
                        }
                    }
                } else {
                    //ผลของ ผอ และประธาน ขัดแย้งกัน เช็คว่าถ้าประธานผลเท่ากับผ่านตามมาตรฐาน
                    if (parseInt($(this).val()) === 1) {
                        swal({
                            title: "โปรดระบุเหตุผลในการเปลี่ยนแปลง",
                            text: '',
                            type: 'input',
                            showCancelButton: true,
                            confirmButtonColor: '#277020',
                            confirmButtonText: 'ยืนยัน',
                            cancelButtonText: 'ยกเลิก',
                            closeOnConfirm: false,
                            closeOnEsc: false,
                            closeOnCancel: true,
                        }, function (inputValue) {
                            if (inputValue === false) return false;

                            if (inputValue === "") {
                                swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                return false
                            }
                            CMRemark = inputValue;
                            FuncCMApproveUpdate();
                        });
                    } else if (parseInt($(this).val()) === 0) {
                        //Set Default
                        $('input[name=motor]:checked').val("0")
                        SetResultNotPassCMEdit();
                    }
                }
            });

            //button CM approve
            $('button[name=btnCM]').click(function (e) {
                var motorResult = $('input[name=motor]:checked').val();
                var motorChildPass = $('input[name=motorChildPass]:checked').val();

                var IsmotorMotorPassCM;
                switch (parseInt($(this).val())) {

                    case 1: //อนุมัติให้ผ่านคัดกรอง
                        CMApproveStatusId = 3; //ผ่านคัดกรอง
                        IsmotorMotorPassCM = 1; //ใช้เช็ค ตามมาตรฐาน
                        CMIsApprovePassCondition = false; // ไม่ใช่ผ่านแบบมีเงื่อนไข
                        break;
                    case 2: //อนุมัติให้ผ่านคัดกรองแบบติดเงื่อนไข
                        CMApproveStatusId = 4; //ผ่านคัดกรอง ติดเงื่อนไข
                        IsmotorMotorPassCM = 0; //ใช้เช็ค ติดเงื่อนไขข้อยกเว้น
                        CMIsApprovePassCondition = true; // ผ่านแบบมีเงื่อนไข
                        ClearResultPassConditionCM(); //clear ทิ้ง
                        $('input[id=motor-child-pass-conditionCM]').iCheck('check'); // set ให้ใหม่
                        break;
                    case 0: //อนุมัติไม่ให้ผ่าน
                        CMApproveStatusId = 5; //ไม่ให้ผ่านคัดกรอง
                        ClearResultNotPassCM(); //clear ทิ้ง
                        $('input[id=motor_notpassCM]').iCheck('check'); // set ให้ใหม่
                        break;
                    default:
                }
                //เช็คผล ผอ กับ ประธาน ตรงกันหรือไม่ (2 คือ val button ผ่านแต่แบบติดเงื่อนไข)
                if (parseInt($(this).val()) === parseInt(motorResult) || parseInt($(this).val()) === 2) {
                    //เช็คผล ผอ และประธาน ว่าผ่านตามมาตรฐาน หรือ ติดข้อยกเว้น เหมือนกันหรือไม่
                    if (parseInt(motorChildPass) === parseInt(IsmotorMotorPassCM) && motorChildPass != null && motorChildPass != 'undefined' && IsmotorMotorPassCM != null && IsmotorMotorPassCM != 'undefined') {
                        //เช็คผ่านแบบมาตรฐาน
                        if (parseInt($(this).val()) === 1) {
                            swal({
                                title: "ยืนยันบันทึกข้อมูล",
                                text: 'รายละเอียดเพิ่มเติม',
                                type: 'input',
                                showCancelButton: true,
                                confirmButtonColor: '#277020',
                                confirmButtonText: 'ยืนยัน',
                                cancelButtonText: 'ยกเลิก',
                                closeOnConfirm: false,
                                closeOnEsc: false,
                                closeOnCancel: true
                            }, function (inputValue) {
                                if (inputValue === false) return false;

                                //if (inputValue === "") {
                                //    swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                //    return false
                                //}
                                CMRemark = inputValue;
                                FuncCMApproveUpdate();
                            });
                        }
                        //เช็คผ่านแบบติดเงื่อนไข
                        else if (parseInt($(this).val()) === 2) {
                            //Set Default
                            SetResultPassConditionCM();

                            //Assign Value PassOtherRemarkCM To Variable
                            CMResultPassSpecifyRemark = $('#motorChildPassOtherRemarkCM').val();
                        }
                    }
                    //ไม่ผ่านคัดกรอง
                    else if (parseInt($(this).val()) === 0) {
                        //Set Default
                        SetResultNotPassCM();
                    }else {
                        //เช็คไม่เท่ากับ 2 คือไม่ใช่แบบติดเงื่อนไข  (2 จะแสดง modal )
                        if (parseInt($(this).val()) != 2) {
                            swal({
                                title: "โปรดระบุเหตุผลในการเปลี่ยนแปลง",
                                text: '',
                                type: 'input',
                                showCancelButton: true,
                                confirmButtonColor: '#277020',
                                confirmButtonText: 'ยืนยัน',
                                cancelButtonText: 'ยกเลิก',
                                closeOnConfirm: false,
                                closeOnEsc: false,
                                closeOnCancel: true
                            }, function (inputValue) {
                                if (inputValue === false) return false;

                                if (inputValue === "") {
                                    swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                    return false
                                }
                                CMRemark = inputValue;
                                FuncCMApproveUpdate();
                            });
                        }
                    }
                } else {
                    //ผลของ ผอ และประธาน ขัดแย้งกัน เช็คว่าถ้าประธานผลเท่ากับผ่านตามมาตรฐาน
                    if (parseInt($(this).val()) === 1) {
                        swal({
                            title: "โปรดระบุเหตุผลในการเปลี่ยนแปลง",
                            text: '',
                            type: 'input',
                            showCancelButton: true,
                            confirmButtonColor: '#277020',
                            confirmButtonText: 'ยืนยัน',
                            cancelButtonText: 'ยกเลิก',
                            closeOnConfirm: false,
                            closeOnEsc: false,
                            closeOnCancel: true,
                        }, function (inputValue) {
                            if (inputValue === false) return false;

                            if (inputValue === "") {
                                swal.showInputError("กรุณากรอกข้อมูลส่วนนี้..!");
                                return false
                            }
                            CMRemark = inputValue;
                            FuncCMApproveUpdate();
                        });
                    }
                }
            });

            //button save in modal condition cm
            $('#button-save-condition').click(function (e) {
                if ($('input[name=motorChildPassCM]').valid() && $('input[name=IsSpecify_CM]').valid() && $('textarea[name=motorChildPassOtherRemarkCM]').valid()) {
                    FuncCMApproveUpdate();
                }
            });

            //button save in modal unapprove cm
            $('#button-save-unapproved').click(function (e) {
                if ($('input[name=motorCM]').valid() && $('input[name=motorChildNotPassCM]').valid()) {

                    if (CMDenyOther) {
                        $('#formModalUnapprovedMotor').valid()
                        var res = $('#formModalUnapprovedMotor').valid()
                        if (res) {
                            FuncCMApproveUpdate();
                        }
                    } else {
                        FuncCMApproveUpdate();
                    }
                }
            });

            //มีประวัติสุขภาพที่ติดข้อยกเว้น ส่วนประธานา
            $('input[name=motorChildPassCM]').on('ifChecked', function (e) {
                $(this).valid();
            });

            //ไม่ผ่านคัดกรอง ส่วนประธาน
            $('input[name=motorCM]').on('ifChecked', function (e) {
                $(this).valid();
            });

            //ไม่ผ่านคัดกรอง-ส่วนย่อย -ประธาน
            $('input[name=motorChildNotPassCM]').on('ifChecked', function (e) {
                $(this).valid();
            });

            //อนุมัติไม่ผ่านคัดกรอง อื่นๆ
            $('#motorChildNotPassOtherRemarkCM').bind('input propertychange', function () {
                CMDenyRemark = $(this).val();
            });

            //ระบุข้อยกเว้น มีประวัติที่ติดข้อยกเว้น
            $('#motorChildPassOtherRemarkCM').bind('input propertychange', function () {
                if ($(this).valid()) {
                    //Assign Value PassOtherRemarkCM To Variable
                    CMResultPassSpecifyRemark = $(this).val();
                }
            });

            //มีประวัติสุขภาพที่ติดข้อยกเว้น
            $('input[name=IsSpecify_CM]').on('ifChecked', function (e) {
                if ($(this).valid()) {
                    switch ($(this).val()) {
                        case "1":
                            CMSpecify = true;
                            break;
                        case "0":
                            CMSpecify = null;
                            break;
                        default:
                    }
                }
            });

        });//end load

        /*tab change*/
        $('a[data-toggle="tab"]').on('shown.bs.tab',
            function (e) {
                e.preventDefault();
                const target = $(e.target).attr("href");
                switch (target) {
                    case "#tab_3":
                        //Log
                        loadingSpinner('fadeIn', 500);
                        GetQueueLog();
                        break;
                    case "#tab_2":
                        loadingSpinner('fadeIn');
                         //dowload documents
                        GetDocument();
                            break;
                    default:
                }
            });

        //Dowload Document
        const GetDocument = () => {
            $.post('@Url.Action("DowloadDocuments")',
                {
                    queueId: "@ViewBag.QueueId"
                },
                function (data) {

                    if (data.IsResult === true) {
                        loadingSpinner('fadeOut', 500);

                        //บัตรประจำตัวประชาชน
                        if (Array.isArray(data.idCardAttachedFile)) {
                            if (data.idCardAttachedFile.length > 0) {
                                for (var i = 0; i < data.idCardAttachedFile.length; i++) {
                                    if (data.idCardAttachedFile[i] == null) {

                                        $('.IdCardAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.idCardAttachedFileType) {
                                            case "JPG":
                                                $('#IdCardAttachedFile_JPG').show();
                                                $(`.IDcard_a_${i}`).attr('href', data.idCardAttachedFile[i]);
                                                $(`.IDcard_img_${i}`).attr('src', data.idCardAttachedFile[i]);
                                                $(`.IDcard_img_${i}`).attr('data-src', data.idCardAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#IdCardAttachedFile_PDF').show();
                                                $('#IdCardAttachedFile_PDF').append(`<object class="IDcard_PDF" data="${data.idCardAttachedFile[i]}" type="application/pdf" style="width:100%; height: 900px;overflow:auto !important">
                                                <p>
                                                    Alternative text - include a link<a href="${data.idCardAttachedFile[i]}">
                                                        to the PDF!
                                                    </a>
                                                </p>
                                            </object>`);

                                                break
                                            default:
                                                $('#IdCardAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.IdCardAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.IdCardAttachedFile_NoDocument').show();
                        }
                        //end บัตรประจำตัวประชาชน

                        //รูปภาพ
                        if (Array.isArray(data.photoAttachedFile)) {
                            if (data.photoAttachedFile.length > 0) {
                                for (var i = 0; i < data.photoAttachedFile.length; i++) {
                                    if (data.photoAttachedFile[i] == null) {
                                        $('.photoAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.photoAttachedFileType) {
                                            case "JPG":
                                                $('#photoAttachedFile_JPG').show();
                                                $(`.picture_a_${i}`).attr('href', data.photoAttachedFile[i]);
                                                $(`.picture_img_${i}`).attr('src', data.photoAttachedFile[i]);
                                                $(`.picture_img_${i}`).attr('data-src', data.photoAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#photoAttachedFile_PDF').show();
                                                $('#photoAttachedFile_PDF').append(`<object class="picture_PDF" data="${data.photoAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.photoAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#photoAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.photoAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.photoAttachedFile_NoDocument').show();
                        }
                        //end รูปภาพ

                        //รายการจดทะเบียน
                        if (Array.isArray(data.regisBookAttachedFile)) {
                            if (data.regisBookAttachedFile.length > 0) {
                                for (var i = 0; i < data.regisBookAttachedFile.length; i++) {
                                    if (data.regisBookAttachedFile[i] == null) {
                                        $('.regisBookAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.regisBookAttachedFileType) {
                                            case "JPG":
                                                $('#regisBookAttachedFile_JPG').show();
                                                $(`.register_a_${i}`).attr('href', data.regisBookAttachedFile[i]);
                                                $(`.register_img_${i}`).attr('src', data.regisBookAttachedFile[i]);
                                                $(`.register_img_${i}`).attr('data-src', data.regisBookAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#regisBookAttachedFile_PDF').show();
                                                $('#regisBookAttachedFile_PDF').append(`<object class="register_PDF" data="${data.regisBookAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.regisBookAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#regisBookAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.regisBookAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.regisBookAttachedFile_NoDocument').show();
                        }
                        //end รายการจดทะเบียน

                        //ใบเสร็จ
                        if (Array.isArray(data.paymentSlipAttachedFile)) {
                            if (data.paymentSlipAttachedFile.length > 0) {
                                for (var i = 0; i < data.paymentSlipAttachedFile.length; i++) {
                                    if (data.paymentSlipAttachedFile[i] == null) {
                                        $('.paymentSlipAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.paymentSlipAttachedFileType) {
                                            case "JPG":
                                                $('#paymentSlipAttachedFile_JPG').show();
                                                $(`.receipt_a_${i}`).attr('href', data.paymentSlipAttachedFile[i]);
                                                $(`.receipt_img_${i}`).attr('src', data.paymentSlipAttachedFile[i]);
                                                $(`.receipt_img_${i}`).attr('data-src', data.paymentSlipAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#paymentSlipAttachedFile_PDF').show();
                                                $('#paymentSlipAttachedFile_PDF').append(`<object class="receipt_PDF" data="${data.paymentSlipAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.paymentSlipAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#paymentSlipAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.paymentSlipAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.paymentSlipAttachedFile_NoDocument').show();
                        }
                        //end ใบเสร็จ

                        //หนังสือยินยอม
                        if (Array.isArray(data.debitAuthorizeAttachedFile)) {
                            if (data.debitAuthorizeAttachedFile.length > 0) {
                                for (var i = 0; i < data.debitAuthorizeAttachedFile.length; i++) {
                                    if (data.debitAuthorizeAttachedFile[i] == null) {
                                        $('.debitAuthorizeAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.debitAuthorizeAttachedFileType) {
                                            case "JPG":
                                                $('#debitAuthorizeAttachedFile_JPG').show();
                                                $(`.consent_a_${i}`).attr('href', data.debitAuthorizeAttachedFile[i]);
                                                $(`.consent_img_${i}`).attr('src', data.debitAuthorizeAttachedFile[i]);
                                                $(`.consent_img_${i}`).attr('data-src', data.debitAuthorizeAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#debitAuthorizeAttachedFile_PDF').show();
                                                $('#debitAuthorizeAttachedFile_PDF').append(`<object class="consent_PDF" data="${data.debitAuthorizeAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.debitAuthorizeAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#debitAuthorizeAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.debitAuthorizeAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.debitAuthorizeAttachedFile_NoDocument').show();
                        }
                        //end หนังสือยินยอม

                        //บัญชีธนาคาร
                        if (Array.isArray(data.bankBookAttachedFile)) {
                            if (data.bankBookAttachedFile.length > 0) {
                            for (var i = 0; i < data.bankBookAttachedFile.length; i++) {
                                if (data.bankBookAttachedFile[i] == null) {
                                    $('.bankBookAttachedFile_NotFound').show();
                                } else {
                                    switch (data.bankBookAttachedFileType) {
                                        case "JPG":
                                            $('#bankBookAttachedFile_JPG').show();
                                            $(`.bank_a_${i}`).attr('href', data.bankBookAttachedFile[i]);
                                            $(`.bank_img_${i}`).attr('src', data.bankBookAttachedFile[i]);
                                            $(`.bank_img_${i}`).attr('data-src', data.bankBookAttachedFile[i]);
                                            break
                                        case "PDF":
                                            $('#bankBookAttachedFile_PDF').show();
                                            $('#bankBookAttachedFile_PDF').append(`<object class="bank_PDF" data="${data.bankBookAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.bankBookAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                            break
                                        default:
                                            $('#bankBookAttachedFile_Type_NotFound').show();
                                            break
                                    }
                                }
                            }
                        } else {
                                $('.bankBookAttachedFile_NoDocument').show();
                            };
                        } else {
                            $('.bankBookAttachedFile_NoDocument').show();
                        }
                        //end บัญชีธนาคาร

                        //อื่นๆ
                        if (Array.isArray(data.otherAttachedFile)) {
                            if (data.otherAttachedFile.length > 0) {
                                for (var i = 0; i < data.otherAttachedFile.length; i++) {
                                    if (data.otherAttachedFile[i] == null) {
                                        $('.otherAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.otherAttachedFileType) {
                                            case "JPG":
                                                $('#otherAttachedFile_JPG').show();
                                                $(`.other_a_${i}`).attr('href', data.otherAttachedFile[i]);
                                                $(`.other_img_${i}`).attr('src', data.otherAttachedFile[i]);
                                                $(`.other_img_${i}`).attr('data-src', data.otherAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#otherAttachedFile_PDF').show();
                                                $('#otherAttachedFile_PDF').append(`<object class="other_PDF" data="${data.otherAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="${data.otherAttachedFile[i]}">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('.otherAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.otherAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.otherAttachedFile_NoDocument').show();
                        }
                        //end อื่นๆ

                    } else {
                        //todo
                        //IsResult false
                    }
                });
        }

        const GetQueueLog = () => {
            $('#tableLog').empty();
            var table = $('#tableLog').DataTable({
                pageLength: 10,
                lengthChange: false,
                processing: true,
                serverSide: true,
                destroy: true,
                searching: true,
                ordering: true,
                info: true,
                paging: true,
                autoWidth: false,
                responsive: true,
                language: {
                url: 'https://cdn.datatables.net/plug-ins/1.10.20/i18n/Thai.json'
                },
                ajax: {
                    url: '@Url.Action("QueueLog")',
                    method: 'GET',
                    data: function (d) {
                        d.draw = d.draw;
                        d.pageSize = d.length;
                        d.indexStart = d.start;
                        d.sortField = d.columns[d.order[0].column].data;
                        d.orderType = d.order[0].dir;
                        d.search = d.search;
                        d.queueId = "@ViewBag.QueueMotorFullDetail.QueueId";
                    }
                },
                columns: [
                    {
                        title: 'วันที่ทำรายการ',
                        data: 'CreatedDate',
                        render: function (data) {
                            let date = moment(data);
                            date.add(543, 'years');
                            return moment(date).format("DD/MM/YYYY HH:mm:ss");
                        }

                    },
                    {
                        title: 'ผู้มอบหมายคิวงาน',
                        data: 'FromEmployeeName'
                    },
                    {
                        title: 'ผู้รับคิวงาน',
                        data: 'ToEmployeeName'
                    },
                    {
                        title: 'รายละเอียด',
                        data: 'TransactionTypeDetail'
                    },
                ]
            });
            window.onresize = function () {
                table.columns.adjust().responsive.recalc();
            };
        }

        //set ค่าผลคัดกรอง แบบติดข้อยกเว้นของ ผอ ให้เป็นค่า default ของประธาน
        const SetResultPassConditionCM = () => {
            //clear
            $('input[id=motor-child-pass-conditionCM]').iCheck('uncheck');
            $('textarea[id=motorChildPassOtherRemarkCM]').val("");
            $('input[id=IsSpecify_CM1]').iCheck('uncheck');
            $('input[id=IsSpecify_CM0]').iCheck('uncheck');

            if ($('input[name=motorChildPass]:checked').val() === "0") {
                //มีประวัติที่ติดข้อยกเว้น
                $('input[id=motor-child-pass-conditionCM]').iCheck('check');

                //รายละเอียดเพิ่มเติม
                $('textarea[id=motorChildPassOtherRemarkCM]').val($('textarea[id=motorChildPassOtherRemark]').val());

                if ($('input[name=IsSpecify]:checked').val() === "1") {
                    //ระบุในใบสมัคร
                    $('input[id=IsSpecify_CM1]').iCheck('check');
                } else if ($('input[name=IsSpecify]:checked').val() === "0") {
                    //ไม่ระบุ
                    $('input[id=IsSpecify_CM0]').iCheck('check');
                }
            }
        }

        //set ค่าผลคัดกรอง แบบติดข้อยกเว้นของ ผอ ให้เป็นค่า default ของประธาน (แก่ไขผลการพิจารณา)
        const SetResultPassConditionCMEdit = () => {
            //clear
            $('input[id=motor-child-pass-conditionCM]').iCheck('uncheck');
            $('textarea[id=motorChildPassOtherRemarkCM]').val("");
            $('input[id=IsSpecify_CM1]').iCheck('uncheck');
            $('input[id=IsSpecify_CM0]').iCheck('uncheck');

            if ($('input[name=motorChildPass]:checked').val() === "0") {
                //มีประวัติที่ติดข้อยกเว้น
                $('input[id=motor-child-pass-conditionCM]').iCheck('check');

                //รายละเอียดเพิ่มเติม
                let aaa  = `@ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark`;
                $('textarea[id=motorChildPassOtherRemarkCM]').val(aaa);

                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwritePassIsSpecify` == 'True') {
                    //ระบุในใบสมัคร
                    $('input[id=IsSpecify_CM1]').iCheck('check');
                } else{
                    //ไม่ระบุ
                    $('input[id=IsSpecify_CM0]').iCheck('check');
                }
            } else {

                //มีประวัติที่ติดข้อยกเว้น
                $('input[id=motor-child-pass-conditionCM]').iCheck('check');

                //รายละเอียดเพิ่มเติม
                let aaa  = `@ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark`;
                $('textarea[id=motorChildPassOtherRemarkCM]').val(aaa);

                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwritePassIsSpecify` == 'True') {
                    //ระบุในใบสมัคร
                    $('input[id=IsSpecify_CM1]').iCheck('check');
                } else{
                    //ไม่ระบุ
                    $('input[id=IsSpecify_CM0]').iCheck('check');
                }
            }
        }

        //set ค่าผลคัดกรอง *ไม่ผ่านคัดกรอง ของ ผอ ให้เป็นค่า default ของประธาน
        const SetResultNotPassCM = () => {
            //check before set value
            if ($('input[name=motor]:checked').val() === "0") {
                //มีประวัติที่ติดข้อยกเว้น
                $('input[id=motor_notpassCM]').iCheck('check');

                //สภาพรถยนต์ไม่ตรงตามใบสมัคร
                if ($('input[id=motor-child-notpass-motor]').is(':checked')) $('input[id=motor-child-notpass-motorCM]').iCheck('check');
                //ประเภทการใช้งานผิดประเภท
                if ($('input[id=motor-child-notpass-occupation]').is(':checked')) $('input[id=motor-child-notpass-occupationCM]').iCheck('check');
                //ไม่สามารถชำระเบี้ยตามเงื่อนไขได้
                if ($('input[id=motor-child-notpass-cantpay]').is(':checked')) $('input[id=motor-child-notpass-cantpayCM]').iCheck('check');
                //ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย
                if ($('input[id=motor-child-notpass-cantcontact]').is(':checked')) $('input[id=motor-child-notpass-cantcontactCM]').iCheck('check');
                //อื่นๆ
                if ($('input[id=motor-child-notpass-other]').is(':checked')) $('input[id=motor-child-notpass-otherCM]').iCheck('check', function (e) {
                    //รายละเอียดเพิ่มเติม
                    $('textarea[id=motorChildNotPassOtherRemarkCM]').val($('textarea[id=motorChildNotPassOtherRemark').val());
                });
            }
        }

        //set ค่าผลคัดกรอง *ไม่ผ่านคัดกรอง ของ ผอ ให้เป็นค่า default ของประธาน (แก่ไขผลการพิจารณา)
        const SetResultNotPassCMEdit = () => {

            //check before set value
            if ($('input[name=motor]:checked').val() === "0") {
                //มีประวัติที่ติดข้อยกเว้น
                $('input[id=motor_notpassCM]').iCheck('check');

                //สภาพรถยนต์ไม่ตรงตามใบสมัคร
                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleSpec` == 'True')
                {
                    $('input[id=motor-child-notpass-motorCM]').iCheck('check');
                }

                //ประเภทการใช้งานผิดประเภท
                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleUseType` == 'True')
                {
                    $('input[id=motor-child-notpass-occupationCM]').iCheck('check');
                }

                //ไม่สามารถชำระเบี้ยตามเงื่อนไขได้
                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantPay` == 'True')
                {
                    $('input[id=motor-child-notpass-cantpayCM]').iCheck('check');
                }

                //ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย
                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantContact` == 'True')
                {
                    $('input[id=motor-child-notpass-cantcontactCM]').iCheck('check');
                }

                //อื่นๆ                                                     {
                if (`@ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassOther` == 'True') {
                    $('input[id=motor-child-notpass-otherCM]').iCheck('check')
                }

                //รายละเอียดเพิ่มเติม
                let aaa  = `@ViewBag.QueueMotorFullDetail.ApproveUnderwriteUnPassOtherRemark`;
                $('textarea[id=motorChildNotPassOtherRemarkCM]').val(aaa);
            }
        }

        const ClearResultNotPassCM = () => {
            //clear ทุกครั้ง
            $('input[id=motor_notpassCM]').iCheck('uncheck');
            $('input[id=motor-child-notpass-motorCM]').iCheck('uncheck');
            $('input[id=motor-child-notpass-occupationCM]').iCheck('uncheck');
            $('input[id=motor-child-notpass-cantpayCM]').iCheck('uncheck');
            $('input[id=motor-child-notpass-otherCM]').iCheck('uncheck');
            $('textarea[id=motorChildNotPassOtherRemarkCM]').val("");
        }

        const ClearResultPassConditionCM = () => {
            //clear ทุกครั้ง
            $('input[id=motor-child-pass-conditionCM]').iCheck('uncheck');
            $('textarea[id=motorChildPassOtherRemarkCM]').val("");
            $('input[id=IsSpecify_CM1]').iCheck('uncheck');
            $('input[id=IsSpecify_CM0]').iCheck('uncheck');
        }

        /*fn aprrove update*/
        const CMApproveUpdate = (QueueId, CMApproveStatusId, CMRemark, CMIsApprovePassCondition, CMResultPassIsSpecify, CMDenyMotor, CMDenyOccupation, CMDenyCantPay, CMDenyCantContact, CMDenyOther, CMDenyRemark, CMResultPassSpecifyRemark) => {
            $.post('@Url.Action("MotorQueueApproveUpdate")',
                {
                    QueueId: QueueId,
                    ApproveStatusId: CMApproveStatusId,
                    ApproveRemark: CMRemark,
                    CMIsApprovePassCondition: CMIsApprovePassCondition,
                    CMResultPassIsSpecify: CMResultPassIsSpecify,
                    CMDenyMotor: CMDenyMotor,
                    CMDenyOccupation: CMDenyOccupation,
                    CMDenyCantPay: CMDenyCantPay,
                    CMDenyCantContact: CMDenyCantContact,
                    CMDenyOther: CMDenyOther,
                    CMDenyRemark: CMDenyRemark,
                    CMResultPassSpecifyRemark: CMResultPassSpecifyRemark
                },
                function (data) {
                    if (data.IsResult === true) {
                        $('.modal').hide();
                        swal_success(() => {
                            window.location.reload();
                        });
                    } else {
                        window.location.reload();
                    }
                });
        }

        //Function Update
        const FuncCMApproveUpdate = () => {
                //UPDATE
            CMApproveUpdate('@ViewBag.QueueId',
            CMApproveStatusId,
            CMRemark,
            CMIsApprovePassCondition,
            CMSpecify,
            CMDenyMotor,
            CMDenyOccupation,
            CMDenyCantPay,
            CMDenyCantContact,
            CMDenyOther,
            CMDenyRemark,
            CMResultPassSpecifyRemark);
        }


            const OpenDocstorage = (app) => {
            var url = `@ViewBag.docstorage`+`/document=` + app + `/preview`
             window.open(`@ViewBag.docstorage`+`/document/` + app + `/preview`,'_blank');
        }
    </script>
}