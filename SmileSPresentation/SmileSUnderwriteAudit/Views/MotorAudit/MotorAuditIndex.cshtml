@{
    ViewBag.Title = "MotorAuditIndex";
    Layout = "~/Views/Shared/_LayoutForTopPortalIndex.cshtml";
}
<style>
    .page-content img {
        max-width: 20%;
        height: auto !important;
    }

    #overlay {
        position: fixed; /* Sit on top of the page content */
        display: none; /* Hidden by default */
        width: 100%; /* Full width (cover the whole page) */
        height: 100%; /* Full height (cover the whole page) */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5); /* Black background with opacity */
        z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
        cursor: not-allowed; /* Add a pointer on hover */
    }
</style>
<div class="row">
    <div class="col-xs-12" style="background-color: #1E90FF; color: white; text-align: center">
        <h4>รายละเอียดกรมธรรม์</h4>
    </div>
    <br />
    <br />
    <br />
    <section class="">
        <div class="nav-tabs-custom">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#tab_1" data-toggle="tab">บันทึกผลการทำงาน</a></li>
                <li class=""><a href="#tab_2" data-toggle="tab">ผลการคัดกรองสาขา</a></li>
                <li class=""><a href="#tab_3" data-toggle="tab">เอกสาร</a></li>
                @if (ViewBag.AccessRole == "AUDIT_DEV" || ViewBag.AccessRole == "AUDIT_BPT" || ViewBag.AccessRole == "AUDIT_INSURE_Motor")
                {
                    <li class=""><a href="#tab_4" data-toggle="tab">ประวัติคิวงาน(ฝ่าย QC)</a></li>
                }
            </ul>
            @if (ViewBag.QueueMotorFullDetail != null)
            {
                <div class="tab-content">
                    @* tab_1 *@
                    <div class="tab-pane active" id="tab_1">
                        @* start ข้อมูลพื้นฐาน *@
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">ข้อมูลพื้นฐาน</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus" style="color:white"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">เลข App :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtAppID">@ViewBag.QueueMotorFullDetail.ApplicationCode</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">เบี้ยประกันภัย :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtPremium">@ViewBag.QueueMotorFullDetail.Premium</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">บริษัทประกันภัย :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtCompanyInsurance">@ViewBag.QueueMotorFullDetail.InsuranceCompanyDetail</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">ระยะเวลาประกันภัย :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtAppStartCoverDate">@(String.Format("{0} - {1}",(ViewBag.StartCoverDate != null ? ViewBag.StartCoverDate : ""),(ViewBag.EndCoverDate != null ? ViewBag.EndCoverDate : ""))) </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">สินค้าและแผน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtProduct">@ViewBag.QueueMotorFullDetail.ProductDetail</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">ออกเมื่อ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtIssuesPolicyDate">@(ViewBag.IssuesPolicyDate != null ? ViewBag.IssuesPolicyDate : "-")</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทการซ่อม :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtServiceType">@ViewBag.QueueMotorFullDetail.ClaimTypeDetail</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">ตัวแทน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtRepresen">@ViewBag.QueueMotorFullDetail.SaleEmployeeCode @ViewBag.QueueMotorFullDetail.SaleEmployeeName</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ส่งมอบกรมธรรม์ไปที่ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtDeliverPolicyTo">@ViewBag.QueueMotorFullDetail.DeliverPolicyTo</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">รหัสเจ้าของรถ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" id="txtZebraCarOwnerEmployeeCode">@ViewBag.QueueMotorFullDetail.ZebraCarOwnerEmployeeCode</label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        @* end ข้อมูลพื้นฐาน *@

                        @* start รายละเอียดความคุ้มครอง *@
                        <div class="box box-info collapsed-box">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">รายละเอียดความคุ้มครอง</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-plus" style="color:white"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" style="display:none">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12" style="text-align:center">
                                            <h4>ความรับผิดชอบต่อบุคคลภายนอก</h4>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" style="color: #005484;">ชีวิต ร่างกายและอนามัย ต่อคน :</label>
                                                <div class="col-md-8">
                                                    <label class="control-label col-md-offset-10">@ViewBag.QueueMotorFullDetail.Coverage1</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" style="color: #005484;">ชีวิต ร่างกายและอนามัย ต่อครั้ง :</label>
                                                <div class="col-md-8">
                                                    <label class="control-label col-md-offset-10">@ViewBag.QueueMotorFullDetail.Coverage2</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" style="color: #005484;">ทรัพย์สินของบุคคลภายนอก :</label>
                                                <div class="col-md-8">
                                                    <label class="control-label col-md-offset-10">@ViewBag.QueueMotorFullDetail.Coverage3</label>
                                                </div>
                                            </div>
                                        </div>
                                        <hr width=100% size=3>
                                        <div class="col-md-12" style="text-align: center;">
                                            <h4>ความเสียหายต่อรถยนต์ที่ทำประกัน</h4>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-6 control-label" style="color: #005484;">ภัยจากการชนกับยานพาหนะทางบกและสามารถระบุคู่กรณีได้ :</label>
                                                <div class="col-md-5" style="margin-left:80px">
                                                    <label class="control-label col-md-offset-9">@ViewBag.QueueMotorFullDetail.Coverage4</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-6 control-label" style="color: #005484;">กรณีเสียหายโดยสิ้นเชิงเนื่องจากการสูญหาย ไฟไหม้โดยสิ้นเชิง :</label>
                                                <div class="col-md-5" style="margin-left:80px">
                                                    <label class="control-label col-md-offset-9">@ViewBag.QueueMotorFullDetail.Coverage5</label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        @* end รายละเอียดความคุ้มครอง *@

                        @* start รายละเอียดรถยนต์ *@
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">รายละเอียดรถยนต์</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus" style="color:white"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ยี่ห้อ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">
                                                        @ViewBag.QueueMotorFullDetail.VehicleBrandDetail
                                                    </label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ปีที่จดทะเบียน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.VehicleRegistrationYear</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">รุ่น :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.VehicleModelDetail</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">เลขทะเบียน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.VehicleRegistrationNumber</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทยานพาหนะ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.VehicleTypeDetail</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">หมายเลขตัวถัง :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label " onclick="">@ViewBag.QueueMotorFullDetail.VehicleChassisNumber</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทการใช้งาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.VehicleUseTypeDetail</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">สินเชื่อรถยนต์ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.VehicleIsFinacial</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ทุนประกันรถยนต์ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.SumInsured</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">มีกล้องติดรถยนต์ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.VehicleIsCamera</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ขนาดเครื่องยนต์ (L) :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.VehicleEngineSize</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ลักษณะการใช้งาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.DriveDetail</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">สถานที่การใช้งาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" style="text-align: left">@ViewBag.QueueMotorFullDetail.DriveLocation</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">หมายเหตุ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label" style="color: red;">@ViewBag.QueueMotorFullDetail.VehicleRemark</label>
                                                </div>
                                            </div>
                                        </div>
                                        @if (ViewBag.CountChassisNumber > 0)
                                        {
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="col-md-3 col-md-offset-9">
                                                        <button id="modalCountChassisNumber" type="button" class="btn btn-block" style="background-color: #00e676; color: black" data-toggle="modal" data-target="#modal-CountChassisNumber">หมายเลขตัวถังมีประวัติคัดกรอง</button>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        @* end รายละเอียดรถยนต์ *@

                        @*start ผู้เอาประกัน *@
                        @if (ViewBag.QueueMotorFullDetail.InsuredTypeDetail == "รายบุคคล")
                        {
                            <div class="box box-info">
                                <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                    <h3 class="box-title">ผู้เอาประกัน</h3>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                    </div>
                                </div>
                                <!-- /.box-header -->
                                <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                    <form class="form-horizontal">
                                        <fieldset>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">ประเภทของผู้เอาประกัน :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@(ViewBag.QueueMotorFullDetail.InsuredTypeDetail != null ? ViewBag.QueueMotorFullDetail.InsuredTypeDetail: "-")</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ประเภทบัตร / หมายเลขบัตร :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@(ViewBag.QueueMotorFullDetail.InsuredIdentityCard != null ? ViewBag.QueueMotorFullDetail.InsuredIdentityCard : "-")</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">ชื่อ :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredTitle @ViewBag.QueueMotorFullDetail.InsuredFirstName</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">นามสกุล :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredLastName</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@(ViewBag.QueueMotorFullDetail.InsuredBirthDate != null && ViewBag.QueueMotorFullDetail.InsuredAges != null ? String.Format("{0} : {1} ปี", ViewBag.QueueMotorFullDetail.InsuredBirthDate.ToString("dd/MM/yyyy"), ViewBag.QueueMotorFullDetail.InsuredAges) : "-")</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">อีเมล :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredEmail</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredOccupation</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredPhone</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredOccupationLevel</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ชื่อหน่วยงาน :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredOfficeName</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredOccupationDetail</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                                    <div class="col-md-3">
                                                        <label class="control-label " style="text-align:left">@ViewBag.QueueMotorFullDetail.InsuredAddress</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                                <!-- /.box-body -->
                            </div>
                        }
                        else if (ViewBag.QueueMotorFullDetail.InsuredTypeDetail == "บริษัท")
                        {
                            <div class="box box-info">
                                <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                    <h3 class="box-title">ผู้เอาประกัน</h3>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                    </div>
                                </div>
                                <!-- /.box-header -->
                                <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                    <form class="form-horizontal">
                                        <fieldset>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">ประเภทของผู้เอาประกัน :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredTypeDetail</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ประเภทบัตร / หมายเลขบัตร :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredIdentityCard</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">นิติบุคคล :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredFirstName</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ประเภทนิติบุคคล :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label ">@ViewBag.QueueMotorFullDetail.InsuredCoperateTypeDetail</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label" style="color: #005484;">รหัสบริษัท :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label">@ViewBag.QueueMotorFullDetail.InsuredCoperateCode</label>
                                                    </div>

                                                    <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                                    <div class="col-md-3 ">
                                                        <label class="control-label" style="text-align:left">@ViewBag.QueueMotorFullDetail.InsuredAddress</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                                <!-- /.box-body -->
                            </div>
                        }
                        @*end ผู้เอาประกัน *@

                        @* start ผู้ชำระเบี้ย *@
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF; color: white">
                                <h3 class="box-title">ผู้ชำระเบี้ย</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ประเภทบัตร/หมายเลขบัตร :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.PayerIdentityCard</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;"></label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label "></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ชื่อ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.PayerTitle @ViewBag.QueueMotorFullDetail.PayerFirstName</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">นามสกุล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.PayerLastName</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(ViewBag.QueueMotorFullDetail.PayerBirthDate != null && ViewBag.QueueMotorFullDetail.PayerAges != null ? String.Format("{0} : {1} ปี", ViewBag.QueueMotorFullDetail.PayerBirthDate.ToString("dd/MM/yyyy"), ViewBag.QueueMotorFullDetail.PayerAges) : "-")</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">อีเมล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.PayerEmail</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.PayerOccupation</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.PayerPhone</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.PayerOccupationLevel</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ชื่อหน่วยงาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@ViewBag.QueueMotorFullDetail.PayerOfficeName</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.PayerOccupationDetail</label>
                                                </div>

                                                <label class="col-md-3 control-label" style="color: #005484;">ที่อยู่ :</label>
                                                <div class="col-md-3">
                                                    <label class="control-label " style="text-align:left">@ViewBag.QueueMotorFullDetail.PayerAddress</label>
                                                </div>
                                            </div>
                                        </div>
                                        @if (ViewBag.CountPayment > 0)
                                        {
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="col-md-2 col-md-offset-9">
                                                        <button type="button" class="btn btn-block" style="background-color: #FAE333;color:black" data-toggle="modal" data-target="#modal-CountPaymentHistory">ชำระเบี้ยให้อีก 2 คน</button>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        @* end ผู้ชำระเบี้ย *@

                        @* start ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด) *@
                        <div class="box box-info">
                            <div class="box-header with-border" style="text-align: center; background: #00C0EF;color:white">
                                <h3 class="box-title">ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด)</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus" style="color:white"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" id="collap4" aria-labelledby="heading4" data-parent="#header">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-7 control-label" style="color: #005484;">ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด :</label>
                                                <div class="col-md-5" style="text-align:left">
                                                    <label class="control-label" style="color: #FF0000">@ViewBag.Driver</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">ชื่อ-สกุล :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@ViewBag.QueueMotorFullDetail.DriverTitle @ViewBag.QueueMotorFullDetail.DriverFirstName @ViewBag.QueueMotorFullDetail.DriverLastName</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">วันเดือนปีเกิด :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(ViewBag.QueueMotorFullDetail.DriverBirthDate != null && ViewBag.QueueMotorFullDetail.DriverAges != null ? String.Format("{0} : {1} ปี", ViewBag.QueueMotorFullDetail.DriverBirthDate.ToString("dd/MM/yyyy"), ViewBag.QueueMotorFullDetail.DriverAges) : "-")</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">โทรศัพท์มือถือ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(ViewBag.QueueMotorFullDetail.DriverPhone != null ? ViewBag.QueueMotorFullDetail.DriverPhone : "-")</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">กลุ่มอาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label ">@(ViewBag.QueueMotorFullDetail.DriverOccupation != null ? ViewBag.QueueMotorFullDetail.DriverOccupation : "-")</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" style="color: #005484;">อาชีพ :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(ViewBag.QueueMotorFullDetail.DriverOccupationLevel != null ? ViewBag.QueueMotorFullDetail.DriverOccupationLevel : "-")</label>
                                                </div>
                                                <label class="col-md-3 control-label" style="color: #005484;">ลักษณะงาน :</label>
                                                <div class="col-md-3 ">
                                                    <label class="control-label">@(ViewBag.QueueMotorFullDetail.DriverOccupationDetail != null ? ViewBag.QueueMotorFullDetail.DriverOccupationDetail : "-")</label>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <!-- /.box-body -->
                        </div>
                        @* end ข้อมูลผู้ใช้รถ (ผู้ที่ใช้รถประจำ/ผู้ใช้รถบ่อยที่สุด) *@

                        <div class="row">
                            <form id="formQuestionBPT" action="@Url.Action("QuestionAuditInsert")" method="post" enctype="multipart/form-data">
                                <input type="hidden" id="QueueAuditStatusId" name="QueueAuditStatusId" value="@ViewBag.QueueAuditStatusId" />
                                <input type="hidden" id="QueueAuditId" name="QueueAuditId" value="@ViewBag.QueueMotorFullDetail.QueueAuditId" />
                                <input type="hidden" id="AuditMotorStatusId" name="AuditMotorStatusId" value="@ViewBag.QueueMotorFullDetail.AuditMotorStatusId" />

                                @* -------ผลการตรวจสอบของฝ่ายส่งเสริมธุรกิจสาขา-------- *@
                                <div class="col-sm-12">
                                    <div class="box box-info">
                                        <div class="box-header" style="background-color: #00C0EF; text-align: center;color:white">
                                            <h4 class="box-title">ผลการตรวจสอบของฝ่าย QC </h4>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <div id="box-audit-1" class="box-body bodyQuestion" style="height: auto;width: auto;">
                                            <label>สถานะการตรวจสอบ</label>
                                            <ul class="answerList">
                                                @foreach (var item in ViewBag.QueueAuditStatus)
                                                {
                                                    <li>
                                                        <label name="lbl-QueueAuditStatus" class="view-detail">
                                                            <input type="radio" name="QueueAuditStatus" value="@item.QueueAuditStatusId" id="QueueAuditStatus_@item.QueueAuditStatusId" @((ViewBag.QueueAuditStatusId == item.QueueAuditStatusId) ? "checked" : "")>  @item.QueueAuditStatusDetail
                                                        </label>
                                                    </li>
                                                }
                                            </ul>
                                        </div>
                                        <div id="box-audit-2" class="box-body bodyQuestion" style="height: auto;width: auto;display:@(ViewBag.QueueAuditStatusId == 2 ? "block" : "none")">
                                            <label>สถานะการโทร</label>
                                            <ul class="answerList">
                                                <li>
                                                    @if (ViewBag.CallStatusListAuditMotor != null)
                                                    {
                                                        foreach (var i in ViewBag.CallStatusListAuditMotor)
                                                        {
                                                            if (i.CallStatusId != 1 && i.CallStatusId != 5)
                                                            {
                                                                <label>
                                                                    <input type="radio" name="CallStatus" value="@i.CallStatusId" id="CallStatus_@(i.CallStatusId)" @(ViewBag.QueueMotorFullDetail.AuditCallStatusId == i.CallStatusId ? "checked" : "")> @i.CallStatusDetail
                                                                </label>
                                                            }
                                                        }
                                                    }
                                                </li>
                                            </ul>
                                        </div>
                                   
                                        <div id="box-audit-3" class="box-body bodyQuestion" style="height: auto;width: auto;display:@(ViewBag.QueueAuditStatusId == 2 ? "block" : "none")">
                                            <label>หมายเหตุ</label>
                                            <ul class="answerList">
                                                <li>
                                                    <textarea name="remark" style="display: block;border-radius: 5px; width: 100%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.AuditRemark</textarea>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                @* -------การตรวจสอบการคัดกรองของ ผอ.บล. -------- *@
                                <div id="box-audit-4" class="col-sm-12" style="display:@((ViewBag.QueueAuditStatusId == 3 && ViewBag.AccessRole != "AUDIT_INSURE_Motor")  ? "block" : "none")">
                                    <div class="box box-default">
                                        <div class="box-header" style="background-color: #00C0EF; text-align: center; color: white">
                                            <h4 class="box-title">การตรวจสอบการคัดกรองของ ผอ.บล. </h4>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="box-body bodyResultDirector" style="height: auto;width: auto;background-color:#fff9db;cursor: not-allowed;">
                                            <label>สถานะการคัดกรอง</label>
                                            @* -------ผลการคัดกรอง ผอ.บล. = true -------- *@
                                            @if (ViewBag.QueueMotorFullDetail.IsUnderwrite == true)
                                            {
                                                <div style="height: auto;width: auto;">
                                                    <ul class="answerList">
                                                        <li>
                                                            <label>
                                                                <input type="radio" style="cursor: not-allowed;" checked> คัดกรองแล้ว
                                                            </label>
                                                        </li>
                                                        <li>
                                                            <label>
                                                                <input type="radio"> ยังไม่คัดกรอง
                                                            </label>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div style="height: auto;width: auto;">
                                                    <label>ช่องทางการคัดกรอง</label>
                                                    <ul class="answerList">
                                                        @if (ViewBag.UnderwriteType != null)
                                                        {
                                                            foreach (var i in ViewBag.UnderwriteType)
                                                            {
                                                                switch (i.UnderwriteTypeId)
                                                                {
                                                                    //เข้าพบ
                                                                    case 2:
                                                                        <li>
                                                                            @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == i.UnderwriteTypeId)
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="typeSelect" value="@i.UnderwriteTypeId" id="typeSelect_@(i.UnderwriteTypeId)" checked> @i.UnderwriteType
                                                                                </label>
                                                                                <div class="box-typeselect-@(i.UnderwriteTypeId)" style="padding-left:30px;">
                                                                                    <label>
                                                                                        <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@(i.UnderwriteTypeId)" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                                                    </label>
                                                                                    <label>
                                                                                        <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@(i.UnderwriteTypeId)" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="typeSelect" value="@i.UnderwriteTypeId" id="typeSelect_@(i.UnderwriteTypeId)"> @i.UnderwriteType
                                                                                </label>

                                                                            }
                                                                        </li>
                                                                        break;
                                                                    //โทรคัดกรอง
                                                                    case 3:
                                                                        <li>
                                                                            @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == i.UnderwriteTypeId)
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="typeSelect" value="@i.UnderwriteTypeId" id="typeSelect_@(i.UnderwriteTypeId)" checked> @i.UnderwriteType
                                                                                </label>
                                                                                <div class="box-typeselect-@(i.UnderwriteTypeId)" style="padding-left:30px;">
                                                                                    <label>
                                                                                        <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@(i.UnderwriteTypeId)" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                                                    </label>
                                                                                    <label>
                                                                                        <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@(i.UnderwriteTypeId)" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                                                    </label>
                                                                                    <label>
                                                                                        <span style="color:red">*</span>สาเหตุการโทรคัดกรองลูกค้า
                                                                                        <textarea name="txtCause" id="txtCause" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;"> @ViewBag.QueueMotorFullDetail.CallCauseRemark</textarea>
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            @*else
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="typeSelect" value="@i.UnderwriteTypeId" id="typeSelect_@(i.UnderwriteTypeId)"> @i.UnderwriteType
                                                                    </label>

                                                                }*@
                                                                        </li>
                                                                        break;
                                                                    default:
                                                                        break;
                                                                }
                                                            }
                                                        }
                                                    </ul>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="box-body" style="height: auto;width: auto;">
                                                    <ul class="answerList">
                                                        <li>
                                                            <label>
                                                                <input type="radio"> คัดกรองแล้ว
                                                            </label>
                                                        </li>
                                                        <li>
                                                            <label>
                                                                <input type="radio" checked> ยังไม่คัดกรอง
                                                            </label>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="box-body" style="height: auto;width: auto;">
                                                    <label>สถานะการโทร</label>
                                                    <ul class="answerList">
                                                        <li>
                                                            @if (ViewBag.CallStatusListUDWBranch != null)
                                                            {
                                                                foreach (var i in ViewBag.CallStatusListUDWBranch)
                                                                {
                                                                    if (i.CallStatusId != 2)
                                                                    {
                                                                        if (ViewBag.QueueMotorFullDetail.CallStatusId == i.CallStatusId)
                                                                        {
                                                                            <label>
                                                                                <input type="radio" name="CallStatus" value="@i.CallStatusId" id="callStatus_@(i.CallStatusId)" checked> @i.CallStatus
                                                                            </label>
                                                                        }
                                                                        else
                                                                        {
                                                                            <label>
                                                                                <input type="radio" name="CallStatus" value="@i.CallStatusId" id="callStatus_@(i.CallStatusId)"> @i.CallStatus
                                                                            </label>
                                                                        }

                                                                    }
                                                                }
                                                            }
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="box-body" style="height: auto;width: auto;">
                                                    <label>สถานะการเข้าพบ</label>
                                                    <ul class="answerList">
                                                        <li>
                                                            <label>
                                                                <input type="checkbox" name="foundCustomer" value="0" id="foundCustomer_0" @(ViewBag.QueueMotorFullDetail.IsNotFoundCustomer == true ? "checked" : "")> ไม่พบลูกค้า
                                                            </label>
                                                        </li>
                                                    </ul>
                                                </div>
                                            }
                                        </div>
                                        @*@if (ViewBag.QueueMotorFullDetail.AuditPaymentStatusId != null && ViewBag.QueueMotorFullDetail.AuditPaymentStatusId != 1)
                            {
                                <div class="box-body bodyQuestion" style="height: auto;width: auto;">
                                    <label>ผลฉ ผอ.บล.</label>
                                    <ul class="answerList">
                                        @if (ViewBag.AuditUnderwriteStatus != null)
                                        {
                                            foreach (var i in ViewBag.AuditUnderwriteStatus)
                                            {
                                                if (i.AuditUnderwriteStatusId != 1)
                                                {
                                                    <li>
                                                        <label>
                                                            <input type="radio" name="AuditUnderwriteResultStatus" value="@i.AuditUnderwriteStatusId" id="AuditUnderwriteResultStatus_@(i.AuditUnderwriteStatusId)" @(i.AuditUnderwriteStatusId == ViewBag.QueueMotorFullDetail.AuditUnderwriteStatusId ? "checked" : "")> @i.AuditUnderwriteStatusDetail
                                                        </label>
                                                    </li>
                                                }
                                            }
                                            <li>
                                                <label>
                                                    <span style="color:red">*</span>หมายเหตุ
                                                    <textarea name="AuditUnderwriteResultStatusRemark" id="AuditUnderwriteResultStatusRemark" style="border-radius: 5px;width: 100%;height: 60px;resize: none;">@(@ViewBag.QueueMotorFullDetail.QueueAuditStatusId == 3 ? ViewBag.QueueMotorFullDetail.AuditPaymentRemark : "")</textarea>
                                                </label>
                                            </li>
                                        }
                                    </ul>
                                </div>
                            }
                            else
                            {*@
                                        <div class="box-body bodyQuestion" style="height: auto;width: auto;">
                                            <label>ผลการตรวจสอบการคัดกรอง</label>
                                            <ul class="answerList">
                                                @if (ViewBag.AuditUnderwriteStatus != null)
                                                {
                                                    foreach (var i in ViewBag.AuditUnderwriteStatus)
                                                    {
                                                        if (i.AuditUnderwriteStatusId != 1)
                                                        {
                                                            <li>
                                                                <label name="lbl-AuditUnderwriteStatus" class="lbl-AuditUnderwriteStatus">
                                                                    <input type="radio" name="AuditUnderwriteStatus" value="@i.AuditUnderwriteStatusId" id="AuditUnderwriteStatus_@(i.AuditUnderwriteStatusId)" @(i.AuditUnderwriteStatusId == ViewBag.QueueMotorFullDetail.AuditUnderwriteStatusId ? "checked" : "")> @i.AuditUnderwriteStatusDetail
                                                                </label>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            </ul>
                                        </div>
                                        <div class="box-body bodyQuestion" style="height: auto;width: auto;">
                                            <label>ผลการตรวจสอบการมอบกรมธรรม์</label>
                                            <ul class="answerList">
                                                @if (ViewBag.AuditMotorPoliciesGivenStatus != null)
                                                {
                                                    foreach (var i in ViewBag.AuditMotorPoliciesGivenStatus)
                                                    {
                                                        if (i.AuditPoliciesGivenStatusId != 1)
                                                        {
                                                            <li>
                                                                <label name="lbl-AuditPoliciesGivenStatus">
                                                                    <input type="radio" name="AuditPoliciesGivenStatus" value="@(i.AuditPoliciesGivenStatusId)" id="AuditCobrandGivenStatus_@(i.AuditPoliciesGivenStatusId)" @(i.AuditPoliciesGivenStatusId == ViewBag.QueueMotorFullDetail.AuditPoliciesGivenStatusId ? "checked" : "")> @i.AuditPoliciesGivenStatusDetail
                                                                </label>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            </ul>
                                            <div style="height: auto;width: auto;">
                                                <label>บันทึกคัดกรอง</label>
                                                <div class="col-md-12" style="text-align:left;padding-right:45px">


                                                    <button type="button" class="btn btn-info" onclick="OpenGoogleDoc()">
                                                        บันทึกการคัดกรอง
                                                    </button>
                                                    <p style="color:red;padding:20px">กรุณาบันทึกการคัดกรองก่อนการบันทึกข้อมูล</p>
                                                </div>
                                            </div>
                                            <label>หมายเหตุ</label>
                                            <ul class="answerList">
                                                <li>
                                                    <label>
                                                        @*<span style="color:red">*</span>หมายเหตุ*@
                                                        <textarea name="AuditRemark" id="AuditRemark" style="border-radius: 5px;width: 100%;height: 60px;resize: none;">@(@ViewBag.QueueMotorFullDetail.QueueAuditStatusId == 3 ? ViewBag.QueueMotorFullDetail.AuditRemark : "")</textarea>
                                                    </label>
                                                </li>
                                            </ul>
                                        </div>
                                        @*}*@
                                    </div>
                                </div>
                                <div id="box-audit-5" class="col-sm-12" style="display:@(ViewBag.QueueAuditStatusId == 3 ? "block" : "none")">
                                    <div class="box box-danger" style="display:@(ViewBag.AccessRole != "AUDIT_INSURE_Motor" ? "block" : "none")">
                                        <div class="box-header" style="background-color: #FF746B; text-align: center; color: white">
                                            <h4 class="box-title">การตรวจสอบการชำระเบี้ย </h4>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <div class="box-body bodyQuestion" style="height: auto;width: auto;">
                                            <label>ผลการตรวจสอบการชำระเบี้ย</label>
                                            <ul class="answerList">
                                                @if (ViewBag.AuditMotorPaymentType != null)
                                                {
                                                    foreach (var i in ViewBag.AuditMotorPaymentType)
                                                    {
                                                        <li>
                                                            <label name="lbl-AuditPaymentStatus" class="label-AuditPaymentMotorStatus">
                                                                <input type="radio" class="answerList" name="AuditPaymentMotorStatus" value="@i.AuditPaymentStatusId" id="AuditPaymentMotorStatus_@(i.AuditPaymentStatusId)" @(i.AuditPaymentStatusId == ViewBag.QueueMotorFullDetail.AuditPaymentStatusId ? "checked" : "")> @i.AuditPaymentStatusDetail
                                                            </label>
                                                        </li>

                                                    }
                                                    <li id="li-AuditPaymentMotorRemark">
                                                        <label>
                                                            หมายเหตุ
                                                            <textarea name="AuditPaymentMotorRemark" id="AuditPaymentMotorRemark" style="border-radius: 5px;width: 100%;height: 60px;resize: none;">@(ViewBag.QueueMotorFullDetail.AuditPaymentRemark)</textarea>
                                                        </label>
                                                    </li>
                                                }
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="box box-success">
                                        <div class="box-header" style="background-color: #65BB72; text-align: center; color: white">
                                            <h4 class="box-title">การตรวจสอบข้อมูลการทำประกัน </h4>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                        </div>
                                        <div class="box-body bodyQuestion" style="height: auto;width: auto;">
                                            <label>ผลการตรวจสอบ</label>
                                            <ul class="answerList">
                                                @if (ViewBag.AuditMotorStatus != null)
                                                {
                                                    foreach (var i in ViewBag.AuditMotorStatus)
                                                    {
                                                        <li>
                                                            <label name="lbl-AuditMotorStatus" class="view-detail">
                                                                <input type="radio" class="answerList" name="AuditMotorStatus" value="@i.AuditMotorStatusId" id="AuditMotorStatus_@(i.AuditMotorStatusId)" @(i.AuditMotorStatusId == ViewBag.QueueMotorFullDetail.AuditMotorStatusId ? "checked" : "")> @i.AuditMotorStatusDetail
                                                            </label>
                                                        </li>
                                                        <li hidden>
                                                            <label name="lbl-AuditMotorStatus1" class="view-detail">
                                                                <input type="radio" class="answerList" name="AuditMotorStatus1" value="@i.AuditMotorStatusId" id="AuditMotorStatus_@(i.AuditMotorStatusId)" @(i.AuditMotorStatusId == ViewBag.QueueMotorFullDetail.AuditMotorStatusId ? "checked" : "")> @i.AuditMotorStatusDetail
                                                            </label>
                                                        </li>

                                                    }


                                                    <li id="li-AuditMotorRemark" style="display:@(ViewBag.QueueMotorFullDetail.AuditMotorStatusId == 2 ? "block" : "none")">
                                                        <label>
                                                            <span style="color:red;">*</span>หมายเหตุ
                                                            <textarea name="AuditMotorRemark" id="AuditMotorRemark" style="border-radius: 5px;width: 100%;height: 60px;resize: none;">@(ViewBag.QueueMotorFullDetail.AuditMotorRemark)</textarea>
                                                        </label>
                                                    </li>
                                                }
                                                <li>
                                                    <div id="box-audit-5-1" class="answerList-Child" style="padding-left:30px;display:@(ViewBag.QueueMotorFullDetail.AuditMotorStatusId == 3 ? "block" : "none")">
                                                        @if (ViewBag.AuditMotorSpecifyStatus != null)
                                                        {
                                                            foreach (var i in ViewBag.AuditMotorSpecifyStatus)
                                                            {
                                                                if (i.AuditMotorSpecifyStatusId != 1)
                                                                {
                                                                    <label name="lbl-AuditMotorSpecifyStatus" class="lbl-AuditMotorSpecifyStatus">
                                                                        <input type="radio" name="AuditMotorSpecifyStatus" class="answerList-Child" value="@i.AuditMotorSpecifyStatusId" id="AuditMotorSpecifyStatus_@(i.AuditMotorSpecifyStatusId)" @(i.AuditMotorSpecifyStatusId == ViewBag.QueueMotorFullDetail.AuditMotorSpecifyStatusId ? "checked" : "")> @i.AuditMotorSpecifyStatusDetail
                                                                    </label>
                                                                }
                                                            }
                                                        }
                                                        <label>
                                                            <span style="color:red">*</span>ระบุข้อยกเว้น
                                                            <textarea name="AuditMotorSpecifyRemark" id="AuditMotorSpecifyRemark" style="display: block;border-radius: 5px;width: 100%;height: 60px;resize: none;">@(ViewBag.QueueMotorFullDetail.AuditMotorStatusId == 3 ? ViewBag.QueueMotorFullDetail.AuditMotorRemark : "")</textarea>
                                                        </label>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            @*@if ((ViewBag.AccessRole == "AUDIT_DEV") && (ViewBag.ViewMode != true))
                {
                    <div style="text-align:center;padding-bottom: 10px;">
                        <button id="btnSubmit" class="form-control btn @(ViewBag.QueueAuditStatusId == 2 ? "btn-success" : "btn-warning")" style="width:150px">@(ViewBag.QueueAuditStatusId == 2 ? "บันทึกข้อมูล" : "บันทึกการแก้ไข")</button>
                    </div>
                }*@

                            @* form ผลการตพิจารณาของฝ่ายรับประกัน //ต้องตรวจสอบแล้ว 3 //การตรวจสอบพี่โอลีฟ รอพิจารณา 3 จะแสดง/ส่งไปรับประกัน1พิจารณา *@
                            @if (ViewBag.QueueAuditStatusId == 3 && ViewBag.QueueMotorFullDetail.AuditMotorStatusId == 3 && (ViewBag.AccessRole == "AUDIT_DEV" || ViewBag.AccessRole == "AUDIT_INSURE_Motor" || ViewBag.AccessRole == "AUDIT_BPT"))
                            {
                                <form id="formAuditInsure" action="@Url.Action("QuestionAuditInsureUpdate")" method="post" enctype="multipart/form-data">
                                    <input type="hidden" id="QueueAuditId_formInsure" name="QueueAuditId_formInsure" value="@ViewBag.QueueMotorFullDetail.QueueAuditId" />
                                    <input type="hidden" id="AuditInsureStatusId_formInsure" name="AuditInsureStatusId_formInsure" value="@ViewBag.QueueMotorFullDetail.AuditInsureStatusId" />
                                    <div id="box-audit-insure-1" class="col-sm-12">
                                        <div class="box box-primary">
                                            <div class="box-header" style="background-color: #1CAFE4;text-align:center;color:white">
                                                <h4 class="box-title">ผลการพิจารณาของฝ่ายรับประกัน</h4>
                                                <div class="box-tools pull-right">
                                                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                            <div id="bodyAuditInsure" class="box-body" style="height: auto; width: auto; background-color: #CEF2FD">
                                                <label>สถานะตรวจสอบ</label>
                                                <ul class="answerList">
                                                    @if (ViewBag.AuditInsureStatus != null)
                                                    {
                                                        foreach (var i in ViewBag.AuditInsureStatus)
                                                        {
                                                            if (i.AuditInsureStatusId != 1)
                                                            {
                                                                <li>
                                                                    <label name="lab-AuditInsureStatus" class="label-AuditInsureStatus">
                                                                        <input type="radio" name="AuditInsureStatus" value="@i.AuditInsureStatusId" id="AuditInsureStatus_@(i.AuditInsureStatusId)" @(i.AuditInsureStatusId == ViewBag.QueueMotorFullDetail.AuditInsureStatusId ? "checked" : "")> @i.AuditInsureStatusDetail
                                                                    </label>
                                                                </li>

                                                                if (i.AuditInsureStatusId == 2) //รอพิจารณา
                                                                {
                                                                    <li>
                                                                        <div id="box-audit-insure-1-1" style="padding-left:30px;display:@(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 2 ? "block":"none")">
                                                                            <label>
                                                                                <span style="color:red">*</span>หมายเหตุ
                                                                                <textarea name="AuditInsureStatusRemark" id="AuditInsureStatusRemark" style="display: block;border-radius: 5px;width: 100%;height: 60px;resize: none;">@(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 2 ? ViewBag.QueueMotorFullDetail.AuditInsureRemark : "")</textarea>
                                                                            </label>
                                                                        </div>
                                                                    </li>
                                                                }
                                                                else if (i.AuditInsureStatusId == 3) //พิจารณาแล้ว
                                                                {
                                                                    <li>
                                                                        <div id="box-audit-insure-1-2" class="answerList-Child" style="padding-left:30px;display:@(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 3 ? "block":"none")">
                                                                            @foreach (var j in ViewBag.AuditInsureConsiderStatus)
                                                                            {
                                                                                if (j.AuditInsureConsiderStatusId != 1)
                                                                                {
                                                                                    <label disabled>
                                                                                        <input type="radio" class="answerList-Child" name="AuditInsureConsiderStatus" value="@j.AuditInsureConsiderStatusId" id="AuditInsureConsiderStatus_@(j.AuditInsureConsiderStatusId)" @(j.AuditInsureConsiderStatusId == ViewBag.QueueMotorFullDetail.AuditInsureConsiderStatusId ? "checked" : "")> @j.AuditInsureConsiderStatusDetail
                                                                                    </label>
                                                                                }
                                                                            }
                                                                            <label>
                                                                                <span style="color:red">*</span>หมายเหตุ
                                                                                <textarea name="AuditInsureConsiderStatusRemark" id="AuditInsureConsiderStatusRemark" style="display: block;border-radius: 5px;width: 100%;height: 60px;resize: none;">@(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 3 ? ViewBag.QueueMotorFullDetail.AuditInsureConsiderRemark : "")</textarea>
                                                                            </label>
                                                                        </div>
                                                                    </li>
                                                                }
                                                            }
                                                        }
                                                    }
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            }

                            @if ((ViewBag.AccessRole == "AUDIT_BPT" ) && (ViewBag.ViewMode != true && (ViewBag.QueueAuditStatusId == 2 || ViewBag.QueueAuditStatusId == 3)))
                            {
                                <div style="text-align:center;padding-bottom: 10px;">
                                    <button id="btnSubmit" class="form-control btn @(ViewBag.QueueAuditStatusId == 2 ? "btn-success":"btn-warning")" style="width:150px">@(ViewBag.QueueAuditStatusId == 2 ? "บันทึกข้อมูล" : "บันทึกการแก้ไข")</button>
                                </div>
                            }

                            @* ต้องเป็นสถานะ ตรวจสอบแล้ว 3 // ตรวจถ้านสุขภาพ รอพิจารณา 3  *@
                            @if ((ViewBag.QueueAuditStatusId == 3) && (ViewBag.QueueMotorFullDetail.AuditMotorStatusId == 3) && (ViewBag.ViewMode != true) && ( ViewBag.AccessRole == "AUDIT_INSURE_Motor"))
                            {
                                <div style="text-align:center;padding-bottom: 10px;">
                                    <button id="btnSubmit2" class="form-control btn @(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 2 ? "btn-success":"btn-warning")" style="width:150px">@(ViewBag.QueueMotorFullDetail.AuditInsureStatusId == 2 ? "บันทึกข้อมูล" : "บันทึกการแก้ไข")</button>
                                </div>
                            }
                        </div>
                    </div>
                    @* end tab_1 *@

                    @* tab_2 *@
                    <div class="tab-pane" id="tab_2">
                        <div class="row form-group">
                            <form>
                                <div class="col-sm-12">
                                    <div class="box box-info">
                                        <div class="box-header" style="background-color: #00C0EF; text-align:center; color:white">
                                            <h4 class="box-title">ผลการคัดกรอง </h4>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                        </div>
                                        @if (ViewBag.QueueMotorFullDetail.IsUnderwrite == true)
                                        {
                                            <div id="box-ask-1" class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>สถานะการคัดกรอง</label>
                                                <ul class="answerList">
                                                    <li>
                                                        <label>
                                                            <input type="radio" checked> คัดกรองแล้ว
                                                        </label>
                                                    </li>
                                                    <li>
                                                        <label>
                                                            <input type="radio"> ยังไม่คัดกรอง
                                                        </label>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>ช่องทางการคัดกรอง</label>
                                                <ul class="answerList">
                                                    @if (ViewBag.UnderwriteType != null)
                                                    {
                                                        foreach (var item in ViewBag.UnderwriteType)
                                                        {
                                                            switch (item.UnderwriteTypeId)
                                                            {
                                                                //เข้าพบลูกค้า
                                                                case 2:
                                                                    <li>
                                                                        @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == item.UnderwriteTypeId)
                                                                        {
                                                                            <label>
                                                                                <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId" checked> @item.UnderwriteType
                                                                            </label>
                                                                            <div class="box-typeselect-@item.UnderwriteTypeId" style="padding-left: 30px;">
                                                                                <label>
                                                                                    <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@item.UnderwriteTypeId)" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                                                </label>
                                                                                <label>
                                                                                    <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@item.UnderwriteTypeId)" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                                                </label>
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <label>
                                                                                <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId"> @item.UnderwriteType
                                                                            </label>
                                                                        }
                                                                    </li>
                                                                    break;
                                                                //โทรคัดกรองลูกค้า
                                                                case 3:
                                                                    <li>
                                                                        @if (ViewBag.QueueMotorFullDetail.UnderwriteTypeId == item.UnderwriteTypeId)
                                                                        {
                                                                            <label>
                                                                                <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId" checked> @item.UnderwriteType
                                                                            </label>
                                                                            <div class="box-typeselect-@item.UnderwriteTypeId" style="padding-left: 30px;">
                                                                                <label>
                                                                                    <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-customer-@item.UnderwriteTypeId" value="customer" @(ViewBag.QueueMotorFullDetail.IsUnderwriteInsured == true ? "checked" : "")> ผู้เอาประกัน
                                                                                </label>
                                                                                <label>
                                                                                    <input type="checkbox" name="typeSelectChild" id="typeSelect-chlid-payer-@item.UnderwriteTypeId" value="payer" @(ViewBag.QueueMotorFullDetail.IsUnderwritePayer == true ? "checked" : "")> ผู้ชำระเบี้ย
                                                                                </label>
                                                                                <label>
                                                                                    <span style="color:red">*</span>สาเหตุการโทรคัดกรองลูกค้า
                                                                                    <textarea name="txtCause" id="txtCause" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.CallCauseRemark</textarea>
                                                                                </label>
                                                                            </div>
                                                                        }
                                                                        @*else
                                                            {
                                                                <label>
                                                                    <input type="radio" name="typeSelect" value="@item.UnderwriteTypeId" id="typeSelect_@item.UnderwriteTypeId" > @item.UnderwriteType
                                                                </label>
                                                            }*@
                                                                    </li>
                                                                    break;
                                                                default:
                                                                    break;
                                                            }

                                                        }

                                                    }
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>การชำระเบี้ย</label>
                                                <ul class="answerList">
                                                    @if (ViewBag.UnderwritePaymentTypeMotor != null)
                                                    {
                                                        foreach (var item in ViewBag.UnderwritePaymentTypeMotor)
                                                        {
                                                            if (@item.UnderwritePaymentTypeId != 1)
                                                            {
                                                                switch (@item.UnderwritePaymentTypeId)
                                                                {
                                                                    case 2:
                                                                        <li>
                                                                            @if (ViewBag.QueueMotorFullDetail.UnderwritePaymentTypeId == item.UnderwritePaymentTypeId)
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId" checked> @item.UnderwritePaymentTypeDetail
                                                                                </label>
                                                                            }
                                                                            else
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId"> @item.UnderwritePaymentTypeDetail
                                                                                </label>
                                                                            }
                                                                        </li>
                                                                        break;
                                                                    case 4:
                                                                        <li>
                                                                            @if (ViewBag.QueueMotorFullDetail.UnderwritePaymentTypeId == item.UnderwritePaymentTypeId)
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId" checked> @item.UnderwritePaymentTypeDetail
                                                                                </label>
                                                                            }
                                                                            else
                                                                            {
                                                                                <label>
                                                                                    <input type="radio" name="paymentTypeMotor" value="@item.UnderwritePaymentTypeId" id="underwriteStatus_@item.UnderwritePaymentTypeId"> @item.UnderwritePaymentTypeDetail
                                                                                </label>
                                                                            }
                                                                        </li>
                                                                        break;
                                                                    default:
                                                                        break;
                                                                }
                                                            }

                                                        }
                                                    }
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>การคัดกรอง</label>
                                                <ul class="answerList">
                                                    @if (ViewBag.QueueMotorFullDetail.IsUnderwritePass == true)
                                                    {
                                                        <li>
                                                            <label>
                                                                <input type="radio" name="motor" value="1" id="motor_pass" checked> ข้อมูลถูกต้อง
                                                            </label>
                                                            @if (ViewBag.QueueMotorFullDetail.IsUnderwritePassStandard == true)
                                                            {
                                                                <div class="box-motor-pass" style="padding-left:30px;">
                                                                    <label>
                                                                        <input type="radio" name="motorChildPass" value="1" id="motor-child-pass-std" checked> ตามข้อมูลการสมัครทุกประการ
                                                                    </label>
                                                                    <label>
                                                                        <input type="radio" name="motorChildPass" value="0" id="motor-child-pass-condition"> ติดเงื่อนไข (เฉพาะประกันชั้น 1)
                                                                    </label>
                                                                </div>
                                                            }
                                                            @if (ViewBag.QueueMotorFullDetail.IsUnderwritePassCondition == true)
                                                            {
                                                                <div class="box-motor-pass" style="padding-left:30px;">
                                                                    <label>
                                                                        <input type="radio" name="motorChildPass" value="1" id="motor-child-pass-std"> ตามข้อมูลการสมัครทุกประการ
                                                                    </label>
                                                                    <label>
                                                                        <input type="radio" name="motorChildPass" value="0" id="motor-child-pass-condition" checked> ติดเงื่อนไข (เฉพาะประกันชั้น 1)
                                                                    </label>
                                                                </div>
                                                                <div class="sub-box-motor-pass" style="padding-left: 60px;">
                                                                    <label>
                                                                        <input type="radio" name="IsSpecify" value="1" id="IsSpecify_1" @(ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == true ? "checked" : "")> ระบุในใบสมัคร
                                                                    </label>
                                                                    <label>
                                                                        <input type="radio" name="IsSpecify" value="0" id="IsSpecify_0" @(ViewBag.QueueMotorFullDetail.IsUnderwritePassIsSpecify == false ? "checked" : "")> ไม่ระบุในใบสมัคร
                                                                    </label>
                                                                    <label>
                                                                        <span style="color:red">*</span>*ระบุข้อมูลติดเงื่อนไข
                                                                        <textarea name="motorChildPassOtherRemark" id="motorChildPassOtherRemark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.UnderwritePassSpecifyRemark</textarea>
                                                                    </label>
                                                                </div>
                                                            }
                                                        </li>
                                                        <li>
                                                            <label>
                                                                <input type="radio" name="motor" value="0" id="motor_notpass"> ข้อมูลไม่ถูกต้อง
                                                            </label>
                                                        </li>

                                                    }
                                                    else if (ViewBag.QueueMotorFullDetail.IsUnderwritePass == false)
                                                    {
                                                        <li>
                                                            <label>
                                                                <input type="radio" name="motor" value="1" id="motor_pass"> ข้อมูลถูกต้อง
                                                            </label>
                                                        </li>
                                                        <li>
                                                            <label>
                                                                <input type="radio" name="motor" value="0" id="motor_notpass" checked> ข้อมูลไม่ถูกต้อง
                                                            </label>
                                                            <div class="box-motor-notpass" style="padding-left:30px;">
                                                                <label>
                                                                    <input type="checkbox" name="motorChildNotPass" value="denymotor" id="motor-child-notpass-motor" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassVehicleSpec == true ? "checked" : "")>สภาพรถยนต์ไม่ตรงตามใบสมัคร
                                                                </label>
                                                                <label>
                                                                    <input type="checkbox" name="motorChildNotPass" value="denyOccupation" id="motor-child-notpass-occupation" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassVehicleUseType == true ? "checked" : "")> ประเภทการใช้งานผิดประเภท
                                                                </label>
                                                                <label>
                                                                    <input type="checkbox" name="motorChildNotPass" value="denyCantPay" id="motor-child-notpass-cantpay" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassCantPay == true ? "checked" : "")> ไม่สามารถชำระเบี้ยตามเงื่อนไขได้
                                                                </label>
                                                                <label>
                                                                    <input type="checkbox" name="motorChildNotPass" value="denyCantContact" id="motor-child-notpass-cantcontact" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassCantContact == true ? "checked" : "")> ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย
                                                                </label>
                                                                <label>
                                                                    <input type="checkbox" name="motorChildNotPass" value="denyOther" id="motor-child-notpass-other" @(ViewBag.QueueMotorFullDetail.IsUnderwriteUnPassOther == true ? "checked" : "")> อื่นๆ
                                                                </label>
                                                                <label>
                                                                    <span style="color:red">*</span>หมายเหตุ/บันทึกเพิ่มเติม
                                                                    <textarea name="motorChildNotPassOtherRemark" id="motorChildNotPassOtherRemark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.UnderwriteUnPassOtherRemark</textarea>
                                                                </label>
                                                            </div>
                                                        </li>
                                                    }
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>หมายเหตุ/บันทึกเพิ่มเติม</label>
                                                <ul class="answerList">
                                                    <li>
                                                        <textarea name="remark" id="remark" style="display: block;border-radius: 5px; margin: 10px;width: 80%;height: 80px;resize: none;">@ViewBag.QueueMotorFullDetail.QueueResultRemark</textarea>
                                                    </li>
                                                </ul>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>สถานะการคัดกรอง</label>
                                                <ul class="answerList">
                                                    <li>
                                                        <label>
                                                            <input type="radio" disabled> คัดกรองแล้ว
                                                        </label>
                                                    </li>
                                                    <li>
                                                        <label>
                                                            <input type="radio" disabled> ยังไม่คัดกรอง
                                                        </label>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>สถานะการโทร</label>
                                                <ul class="answerList">
                                                    <li>
                                                        @if (ViewBag.CallStatusListUDWBranch != null)
                                                        {
                                                            foreach (var i in ViewBag.CallStatusListUDWBranch)
                                                            {
                                                                if (i.CallStatusId != 2)
                                                                {
                                                                    <label>
                                                                        <input type="radio" name="callStatus" class="answerList" value="@i.CallStatusId" id="callStatus_@(i.CallStatusId)" @(ViewBag.QueueMotorFullDetail.CallStatusId == i.CallStatusId ? "checked" : "")> @i.CallStatus
                                                                    </label>
                                                                }
                                                            }
                                                        }
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="box-body bodyResultDirector" style="height: auto;width: auto;">
                                                <label>สถานะการเข้าพบ</label>
                                                <ul class="answerList">
                                                    <li>
                                                        <label>
                                                            <input type="checkbox" name="foundCustomer" class="answerList" value="0" id="foundCustomer_0" @(ViewBag.QueueMotorFullDetail.IsNotFoundCustomer == true ? "checked" : "" )> ไม่พบลูกค้า
                                                        </label>
                                                    </li>
                                                </ul>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </form>
                            @if (ViewBag.QueueMotorFullDetail.QueuePoliciesId != null)
                            {
                                <div class="col-sm-12" id="sectionGivecard">
                                    <div class="box box-info">
                                        <div class="box-header" style="background-color: #b3eeff;text-align:center">
                                            <h4 class="box-title">บันทึกการมอบกรมธรรม์ประกันรถยนต์ </h4>
                                        </div>
                                        <div class="box-body" style="height: auto;width: auto;">
                                            <div class="form-group col-md-12">
                                                <label class="col-md-3 control-label"> วันที่บันทึกมอบกรมธรรม์<span style="color:red">*</span></label>
                                                <div class="col-md-6 ">
                                                    <input class="form-control" id="txtGiveDate" name="txtGiveDate" type="text" value="@(ViewBag.GiveDate != null ? ViewBag.GiveDate:"-")" disabled />
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label class="col-md-3 control-label">  ประเภทการมอบกรมธรรม์<span style="color:red">*</span></label>
                                                <div class="col-md-6 ">
                                                    <input class="form-control" id="txtGiveType" name="txtGiveType" type="text" value="@ViewBag.QueueMotorFullDetail.GiveType" disabled />
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label class="col-md-3 control-label">  ผู้มอบกรมธรรม์<span style="color:red">*</span></label>
                                                <div class="col-md-6 ">
                                                    <input class="form-control" id="txtGiver" name="txtGiver" type="text" value="@ViewBag.QueueMotorFullDetail.GiverEmployeeName" disabled />
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label class="col-md-3 control-label">แนบรูปภาพมอบกรมธรรม์<span style="color:red">*</span></label>
                                                <div class="col-md-6 ">
                                                    <a href="javascript:void();" class="pop">
                                                        <img id="myImg" src="@ViewBag.QueueMotorFullDetail.URLPath" alt="@ViewBag.QueueMotorFullDetail.FileName" style="width:100%;max-width:100px">
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }

                            @if (ViewBag.QueueMotorFullDetail.ApproveStatusId != null && ViewBag.QueueMotorFullDetail.ApproveStatusId != 1 && ViewBag.QueueMotorFullDetail.ApproveStatusId != 2)
                            {
                                <!--section CM Result-->
                                @*<div id="sectionCMResult" style="display:block">
                                    <div class="col-sm-12 pd-xs-0">
                                        <div class="box box-info">
                                            <div class="box-header" style="background-color: #91E9FF; position: relative; text-align: center">
                                                <h4 class="box-title">
                                                    ผลการพิจารณาประธานสาขา
                                                </h4>
                                            </div>
                                            <div id="box-cmapprove-result" class="box-body" style="height: auto;width: auto;">
                                                <ul>
                                                    <li>
                                                        <span>
                                                            <strong>ผลการพิจารณา :</strong>
                                                        </span>
                                                        @switch (ViewBag.QueueMotorFullDetail.ApproveStatusId)
                                                        {
                                                            case 3:
                                                                <span class="label label-success" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                break;
                                                            case 4:
                                                                <span class="label label-warning" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                break;
                                                            case 5:
                                                                <span class="label label-danger" name="lblCMStatusApprove" id="lblCMStatusApprove">@ViewBag.QueueMotorFullDetail.ApproveStatus</span>
                                                                break;
                                                            default:
                                                                <span class="label label-default" name="lblCMStatusApprove" id="lblCMStatusApprove">-</span>
                                                                break;
                                                        }
                                                    </li>
                                                    <li id="li-detail">
                                                        @switch (ViewBag.QueueMotorFullDetail.ApproveStatusId)
                                                        {
                                                            case 3:
                                                                break;
                                                            case 4:
                                                                if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwritePassIsSpecify == true)
                                                                {
                                                                    <span><strong>รายละเอียด :</strong> </span> <ul style="list-style-type:initial;"><li>ติดเงื่อนไข-ระบุในใบสมัคร</li></ul>
                                                                    <span><strong>ข้อมูลข้อยกเว้น :</strong> </span> <ul style="list-style-type:initial;"><li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != null && ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark : "-")</li></ul>
                                                                }
                                                                else
                                                                {
                                                                    <span><strong>รายละเอียด :</strong> </span> <ul style="list-style-type:initial;"><li>ติดเงื่อนไข-ไม่ระบุในใบสมัคร</li></ul>
                                                                    <span><strong>ข้อมูลข้อยกเว้น :</strong> </span> <ul style="list-style-type:initial;"><li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != null && ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwritePassSpecifyRemark : "-")</li></ul>
                                                                }
                                                                break;
                                                            case 5:
                                                                <span><strong>รายละเอียด :</strong> </span>
                                                                <ul style="list-style-type:initial;">
                                                                    @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleSpec == true)
                                                                    {
                                                                        <li>สภาพรถยนต์ไม่ตรงตามใบสมัคร</li>
                                                                    }
                                                                    @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassVehicleUseType == true)
                                                                    {
                                                                        <li>ประเภทการใช้งานผิดประเภท</li>
                                                                    }
                                                                    @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantPay == true)
                                                                    {
                                                                        <li>ไม่สามารถชำระเบี้ยตามเงื่อนไขได้</li>
                                                                    }
                                                                    @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassCantContact == true)
                                                                    {
                                                                        <li>ไม่ผ่าน-ติดต่อไม่ได้/ไม่รับสาย/ไม่สะดวกคุย</li>
                                                                    }
                                                                    @if (ViewBag.QueueMotorFullDetail.ApproveIsUnderwriteUnPassOther == true)
                                                                    {
                                                                        <li>ไม่ผ่าน-อื่นๆ</li>
                                                                        //ถ้าเป็น string empty ให้แสดง -
                                                                        <li>@(ViewBag.QueueMotorFullDetail.ApproveUnderwriteUnPassOtherRemark != "" ? ViewBag.QueueMotorFullDetail.ApproveUnderwriteUnPassOtherRemark : "-")</li>
                                                                    }
                                                                </ul>
                                                                break;
                                                            default:
                                                                break;
                                                        }
                                                    </li>
                                                    @if (ViewBag.QueueMotorFullDetail.ApproveRemark != "")
                                                    {
                                                        <li style="border-bottom: solid 1px;padding-bottom: 10px; margin-bottom: 10px;">
                                                            <span>
                                                                <strong>หมายเหตุ :</strong>
                                                            </span>
                                                            <span name="lblCMRemark" id="lblCMRemark">@ViewBag.QueueMotorFullDetail.ApproveRemark</span>
                                                        </li>
                                                    }
                                                    <li>
                                                        <span>
                                                            <strong>ผู้พิจารณา :</strong>
                                                        </span>
                                                        <span name="lblCMName" id="lblCMName">@(ViewBag.QueueMotorFullDetail.ApproveByChairmanName != null ? ViewBag.QueueMotorFullDetail.ApproveByChairmanName : "-")</span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            <strong>วันที่พิจารณา :</strong>
                                                        </span>
                                                        <span name="lblCMName" id="lblCMName">@(ViewBag.QueueMotorFullDetail.ApproveDate != null ? ViewBag.QueueMotorFullDetail.ApproveDate : "-")</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>*@
                            }
                        </div>
                    </div>
                    @* end tab_2 *@

                    @* tab_3 *@
                    <div class="tab-pane" id="tab_3">
                        <div id="overlay"></div>
                        <div id="Document_form" class="form-horizontal" style="padding:10px 15px 10px 15px">
                            <!-- #region เอกสารแนบผู้เอาประกัน -->
                            <div class="box box-header box-solid">
                                <ul class="list-unstyled ">
                                    <li>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5 class="card-title">เอกสารแนบผู้เอาประกัน</h5>
                                                        <br />
                                                    </div>

                                                    <div class="card-body table-responsive p-0">
                                                        <table class="table table-hover text-nowrap">
                                                            <thead style="margin: 5px; text-align:center; background: #D1F1FF; color: black ">
                                                                <tr>
                                                                    @*<th>รหัสเอกสาร</th>*@
                                                                    <th>ประเภทเอกสาร</th>
                                                                    <th>จำนวน</th>
                                                                    <th>รายละเอียด</th>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @{
                                                                    var allFiles = ViewBag.docFile as IEnumerable<SmileSUnderwriteAudit.Controllers.MotorAuditController.subDataResponse>;
                                                                    if (ViewBag.documentResult != null && allFiles.Count() > 0)
                                                                    {
                                                                        foreach (var item in ViewBag.documentResult)
                                                                        {
                                                                            if (item.DocumentSubTypeId == 194)
                                                                            {
                                                                                foreach (var file in allFiles.Where(w => w.documentCode == item.DocumentCode))
                                                                                {
                                                                                    <tr>
                                                                                        @*<td>@file.documentCode</td>*@
                                                                                        <td>รายการจดทะเบียนรถ</td>
                                                                                        <td>@file.fileCount</td>
                                                                                        <td>
                                                                                            <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@file.documentId`)">
                                                                                                เปิด
                                                                                            </button>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                            if (item.DocumentSubTypeId == 195)
                                                                            {
                                                                                foreach (var file in allFiles.Where(w => w.documentCode == item.DocumentCode))
                                                                                {
                                                                                    <tr>
                                                                                        @*<td>@file.documentCode</td>*@
                                                                                        <td>ใบคำขอเอาประกัน</td>
                                                                                        <td>@file.fileCount</td>
                                                                                        <td>
                                                                                            <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@file.documentId`)">
                                                                                                เปิด
                                                                                            </button>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- #endregion -->
                            <!-- #region เอกสารแนบผู้ชำระเบี้ย -->
                            <div class="box box-header box-solid">
                                <ul class="list-unstyled ">
                                    <li>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5 class="card-title">เอกสารแนบผู้ชำระเบี้ย</h5>
                                                        <br />
                                                    </div>

                                                    <div class="card-body table-responsive p-0">
                                                        <table class="table table-hover text-nowrap">
                                                            <thead style="margin: 5px; text-align:center; background: #D1F1FF; color: black ">
                                                                <tr>
                                                                    @*<th>รหัสเอกสาร</th>*@
                                                                    <th>ประเภทเอกสาร</th>
                                                                    <th>จำนวน</th>
                                                                    <th>รายละเอียด</th>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                                {
                                                                    foreach (var item1 in ViewBag.documentResult)
                                                                    {
                                                                        foreach (var item2 in ViewBag.docFile)
                                                                        {
                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 196)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>สำเนาบัตรประชาชนผู้ชำระเบี้ย</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 197)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>หนังสือยินยอมให้หักบัญชีเงินฝาก</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 198)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>หน้าบัญชีธนาคาร</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- #endregion -->
                            <!-- #region เอกสารการให้การยินยอม การเก็บ รวบรวม ใช้ เปิดเผยข้อมูลส่วนบุคคล -->
                            <div class="box box-header box-solid">
                                <ul class="list-unstyled ">
                                    <li>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5 class="card-title">เอกสารการให้การยินยอม การเก็บ รวบรวม ใช้ เปิดเผยข้อมูลส่วนบุคคล</h5>
                                                        <br />
                                                    </div>

                                                    <div class="card-body table-responsive p-0">
                                                        <table class="table table-hover text-nowrap">
                                                            <thead style="margin: 5px; text-align: center; background: #D1F1FF; color: black ">
                                                                <tr>
                                                                    @*<th>รหัสเอกสาร</th>*@
                                                                    <th>ประเภทเอกสาร</th>
                                                                    <th>จำนวน</th>
                                                                    <th>รายละเอียด</th>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                                {
                                                                    foreach (var item1 in ViewBag.documentResult)
                                                                    {
                                                                        foreach (var item2 in ViewBag.docFile)
                                                                        {
                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 199)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>เอกสาร PDPA</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }


                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- #endregion -->
                            <!-- #region รูปถ่ายรถยนต์ -->
                            <div class="box box-header box-solid">
                                <ul class="list-unstyled ">
                                    <li>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h5 class="card-title">รูปถ่ายรถยนต์</h5>
                                                        <br />
                                                    </div>

                                                    <div class="card-body table-responsive p-0">
                                                        <table class="table table-hover text-nowrap">
                                                            <thead style="margin: 5px; text-align: center; background: #D1F1FF; color: black ">
                                                                <tr>
                                                                    @*<th>รหัสเอกสาร</th>*@
                                                                    <th>ประเภทเอกสาร</th>
                                                                    <th>จำนวน</th>
                                                                    <th>รายละเอียด</th>

                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.documentResult != null && ViewBag.docFile != null)
                                                                {
                                                                    foreach (var item1 in ViewBag.documentResult)
                                                                    {
                                                                        foreach (var item2 in ViewBag.docFile)
                                                                        {
                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 200)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>รูปรถด้านหน้า</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 201)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td> รูปรถด้านซ้าย</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 202)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>รูปรถด้านขวา</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                            if (item2.documentCode == item1.DocumentCode && item1.DocumentSubTypeId == 202)
                                                                            {
                                                                                <tr>
                                                                                    @*<td>@item2.documentCode</td>*@
                                                                                    <td>รูปรถด้านหลัง</td>
                                                                                    <td>@item2.fileCount</td>
                                                                                    <td>
                                                                                        <button type="button" class="btn btn-primary" style="width:100px" data-toggle="dropdown" onclick="OpenDocstorage(`@item1.DocumentId`)">
                                                                                            เปิด
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                }

                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- #endregion -->

                        </div>
                    </div>
                    @* end tab_3 *@

                    @* tab_4 *@
                    <div id="tab_4" class="tab-pane">
                        <div class="form-horizontal">
                            <table id="tableLog" name="tableLog" class="table table-bordered table-striped display responsive" style="width: 100%">
                                <tbody>
                                    <tr style="text-align:center"><td>ไม่พบข้อมูล</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    @* end tab_4 *@
                </div>
            }
        </div>
        <!--Modal Img-->
        <div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <img src="" class="imagepreview" style="width: 100%;">
                    </div>
                </div>
            </div>
        </div>

        <!--/.modal -->
        @* หมายเลขตัวถังมีประวัติคัดกรอง *@
        <div class="modal fade" id="modal-CountChassisNumber">
            <!--.modal-dialog -->
            <div class="modal-dialog modal-lg">
                <!--.modal-content -->
                <div class="modal-content">
                    <div class="modal-header" style="background-color:#00e676; border-color:#00e676; ">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:red">×</span>
                        </button>
                        <h4 class="modal-title">หมายเลขตัวถังมีประวัติคัดกรอง</h4>
                    </div>
                    <div class="modal-body">
                        <table id="UnderwriteHistory" name="UnderwriteHistory" class="table table-bordered table-striped display responsive" style="width: 100%">
                            <tbody>
                                <tr style="text-align:center"><td>ไม่พบข้อมูล</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>

        @* ชำระเบียร์มากกว่า 2 คน *@
        <div class="modal fade" id="modal-CountPaymentHistory">
            <!--.modal-dialog -->
            <div class="modal-dialog modal-lg">
                <!--.modal-content -->
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #FAE333; border-color: #FAE333; ">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:red">×</span>
                        </button>
                        <h4 class="modal-title">รายละเอียด</h4>
                    </div>
                    <div class="modal-body">
                        <table id="UnderwritePaymentHistory" name="UnderwritePaymentHistory" class="table table-bordered table-striped display responsive" style="width: 100%">
                            <tbody>
                                <tr style="text-align:center"><td>ไม่พบข้อมูล</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
    </section>
</div>

@section ViewSpecificJavascript
{
    <script>
        var chat;
        var motorVal;
        var typeSelectVal;
        var countFile = 0;
        var imgUrlPath;
        var imgPhysicalPath;

        $(function () {

            //view img
            var group = {
                headerToolbar: [
                    'maximize',
                    'close'
                ],
                footerToolbar: [
                    'zoomIn',
                    'zoomOut',
                    'prev',
                    'fullscreen',
                    'next',
                    'actualSize',
                    //'rotateLeft',
                    'rotateRight',
                    //'myCustomButton'
                ],
                customButtons: {
                    myCustomButton: {
                        text: '',
                        title: '',
                        click: function (context, e) {
                            //todo
                        }
                    }
                },
                modalWidth: 400,
                modalHeight: 400,
                callbacks: {
                    beforeChange: function (context, index) {
                        //todo
                    },
                    changed: function (context, index) {
                        //todo
                    },
                    opened: function (context) {
                        $('#overlay').css("display", "block");

                    },
                    closed: function (context) {
                        $('#overlay').css("display", "none");
                    },
                }
            }

            $('[data-magnify="IDcard"]').magnify(group);
            $('[data-magnify="img"]').magnify(group);
            $('[data-magnify="register"]').magnify(group);
            $('[data-magnify="receipt"]').magnify(group);
            $('[data-magnify="consent"]').magnify(group);
            $('[data-magnify="bank"]').magnify(group);
            $('[data-magnify="other"]').magnify(group);

            //check mobile
            if (isMobileTablet()) $('#DocDetail_form').hide();

            //disabled element input
            //สถานะตรวจสอบ 3 ตรวจสอบแล้วไม่อนุญาตให้แก้ไขเปลี่ยนแปลง
            if ('@ViewBag.QueueAuditStatusId' === '3') {
                $("input[name=QueueAuditStatus]").prop("disabled", true);
                $("label[name=lbl-QueueAuditStatus]").css("cursor", "not-allowed");
            };

            //การตรวจสอบข้อมูลการทำประกัน 2,3(ผ่าน,รอพิจารณา) รอพิจารณาไม่อนุญาตให้แก้ไขเปลี่ยนแปลง
            if ('@ViewBag.QueueMotorFullDetail.AuditMotorStatusId' === '3') {
                $("input[name=AuditMotorStatus]").prop("disabled", true);
                $("label[name=lbl-AuditMotorStatus]").css("cursor", "not-allowed");
            };

            //ผลการตรวจสอบการชำระเบี้ย 2,3(ถูกต้อง,มีประเด็น) รอพิจารณาไม่อนุญาตให้แก้ไขเปลี่ยนแปลง
            @*if ('@ViewBag.QueueAuditStatusId' === '3') {
                $("input[name=AuditPaymentMotorStatus]").prop("disabled", true);
                $(".label-AuditPaymentMotorStatus").css("cursor", "not-allowed");
                $('textarea[name=AuditPaymentMotorRemark]').prop("disabled", true);
            };*@

            //ผลการพิจารณาของฝ่ายรับประกัน 2,3(รอพิจารณา,พิจารณาแล้ว)
            if ('@ViewBag.QueueMotorFullDetail.AuditMotorStatusId' === '3' && '@ViewBag.QueueMotorFullDetail.AuditInsureStatusId' === '3') {
                $("input[name=AuditInsureStatus]").prop("disabled", true);
                $(".label-AuditInsureStatus").css("cursor", "not-allowed");
            }

            //ผลการตรวจสอบการมอบกรมธรรม์ 2,3 (มอบกรมธรรม์,ไม่มอบกรมธรรม์)
            @*if ('@ViewBag.QueueAuditStatusId' === '3') {
                $("input[name=AuditPoliciesGivenStatus]").prop("disabled", true);
                $('textarea[name=AuditRemark]').prop("disabled", true);
                $("label[name=lbl-AuditPoliciesGivenStatus]").css("cursor", "not-allowed");
            };*@

            //ผลการตรวจสอบการคัดกรอง 2,3(คัดกรอง,ไม่คัดกรอง) ไม่อนุญาตให้แก้ไขเปลี่ยนแปลง
            @*if ('@ViewBag.QueueAuditStatusId' === '3') {
                $("input[name=AuditUnderwriteStatus]").prop("disabled", true);
                $(".lbl-AuditUnderwriteStatus").css("cursor", "not-allowed");
            };*@

            //ผลการตรวจสอบ 2,3(ระบุในใบสมัคร,ไม่ระบุในใบสมัคร)
            if ('@ViewBag.QueueMotorFullDetail.AuditMotorStatusId' === '3') {
                $("input[name=AuditMotorSpecifyStatus]").prop("disabled", false);
                $(".lbl-AuditMotorSpecifyStatus").css("cursor", "allowed");
                $('textarea[name=AuditMotorSpecifyRemark]').prop("disabled", false);
            };

            //check role
            switch ('@ViewBag.AccessRole') {
                case 'AUDIT_DEV':
                    $("#bodyAuditInsure :input").prop("disabled", true);
                    $("#bodyAuditInsure label").css("cursor", "not-allowed");
                    $(".bodyQuestion :input").prop("disabled", true);
                    $(".bodyQuestion label").css("cursor", "not-allowed");
                    break;
                case 'AUDIT_BPT':
                    $("#bodyAuditInsure :input").prop("disabled", true);
                    $("#bodyAuditInsure label").css("cursor", "not-allowed");
                    break;
                case 'AUDIT_INSURE_Motor':
                    $(".bodyQuestion :input").prop("disabled", true);
                    $(".bodyQuestion label").css("cursor", "not-allowed");
                    break;
                case 'GUEST':
                    $(".readonly :input").prop("disabled", true);
                    $(".readonly label").css("cursor", "not-allowed");
                    break;
                default:
                    window.location.href = "@Url.Action("UnAuthorize", "Auth")";
                    break;
            }
            //modal img
            // click img
            $('.pop').on('click', function (e) {
                e.preventDefault();
                $('.imagepreview').attr('src', $(this).find('img').attr('src'));
                $('#imagemodal').modal('show');
            });

            //ผลคัดกรอง ผอ.บล. disabled
            $(".bodyResultDirector :input").prop("disabled", true);
            $(".bodyResultDirector label").css("cursor", "not-allowed");

            /*start signalR*/
            // Reference the auto-generated proxy for the hub.
            chat = $.connection.chatHub;
            //Start Connection
            $.connection.hub.start().done();

            //load dt payer other
            getPayerOther('@ViewBag.AppCode');

            //FORM SUBMIT 1
            $('#btnSubmit').click(function (e) {
                e.preventDefault();
                if ($('#formQuestionBPT').valid()) {
                    swal_confirm("ยืนยันบันทึกข้อมูล", "", function (e) {
                        SubmitformQuestion();
                    });
                }
            });

            //FORM SUBMIT 2
            $('#btnSubmit2').click(function (e) {
                e.preventDefault();
                if ($('#formAuditInsure').valid()) {
                    swal_confirm("ยืนยันบันทึกข้อมูล", "", function (e) {
                        SubmitformAuditInsure();
                    });
                }
            });

            /*Event if checked*/
            //สถานะการตรวจสอบ
            $('input[name=QueueAuditStatus]').on('ifChecked',
                function (e) {
                    e.preventDefault();
                    if ($(this).valid()) {
                        $("#QueueAuditStatusId").val($(this).val());
                        switch ($(this).val()) {
                            case '2':
                                $("#box-audit-2").show();
                                $("#box-audit-3").show();
                                $("#box-audit-4").hide();
                                $("#box-audit-5").hide();
                                ClearValueQueueAuditStatusChanged();

                                //ตรวจสอบแล้ว ให้ assign default value
                                if ('@ViewBag.QueueAuditStatusId' === '2') {
                                    switch ('@ViewBag.QueueMotorFullDetail.CallStatusId') {
                                        case '2':
                                            $('input[id=CallStatus_2]').iCheck('check');
                                            break;
                                        case '3':
                                            $('input[id=CallStatus_3]').iCheck('check');
                                            break;
                                        case '4':
                                            $('input[id=CallStatus_4]').iCheck('check');
                                            break;
                                        default:
                                    }

                                }
                                break;
                            case '3':
                                $("#box-audit-2").hide();
                                $("#box-audit-3").hide();
                                $("#box-audit-4").show();
                                $("#box-audit-5").show();
                                ClearValueQueueAuditStatusChanged();
                                break;
                            default:
                        }
                    }
                });

            //ผลการตรวจสอบ
            $('input[name=AuditMotorStatus]').on('ifChecked',
                function (e) {
                    e.preventDefault();
                    if ($(this).valid()) {
                        $("#AuditMotorStatusId").val($(this).val());
                        switch ($(this).val()) {
                            case '2': //ผ่าน
                                $('#box-audit-5-1').hide();
                                $('#li-AuditMotorRemark').show();
                                $('input[name=AuditMotorSpecifyStatus]').iCheck('uncheck');
                                //$('textarea[name=AuditHealthSpecifyRemark]').val('');
                                //$('textarea[name=AuditMotorRemark]').val('');
                                $('#AuditMotorRemark').rules('add', { required: true });
                                break;
                            case '3': //รอพิจารณา
                                $('#box-audit-5-1').show();
                                $('#li-AuditMotorRemark').hide();
                                $('textarea[name=AuditMotorRemark]').val('');
                                break;
                            default:
                        }
                        //ตรวจสอบแล้ว ให้ assign default value
                        if ('@ViewBag.QueueAuditStatusId' === '3') {
                            switch ('@ViewBag.QueueMotorFullDetail.AuditMotorStatusId') {
                                case '2':
                                    break;
                                case '3':
                                    switch ('@ViewBag.QueueMotorFullDetail.AuditMotorSpecifyStatusId') {
                                        case '2':
                                            $('input[id=AuditMotorSpecifyStatus_2]').iCheck('check');
                                            break;
                                        case '3':
                                            $('input[id=AuditMotorSpecifyStatus_3]').iCheck('check');
                                            break;
                                        default:
                                    }
                                    break;
                                default:
                            }
                        }
                    }
                });

            //สถานะพิจารณา
            $('input[name=AuditInsureStatus]').on('ifChecked',
                function (e) {
                    e.preventDefault();
                    if ($(this).valid()) {
                        switch ($(this).val()) {
                            case '2':
                                $("#box-audit-insure-1-1").show();
                                $("#box-audit-insure-1-2").hide();
                                break;
                            case '3':
                                $("#box-audit-insure-1-1").hide();
                                $("#box-audit-insure-1-2").show();
                                break;
                            default:
                        }
                    }
                });

            //สถานะการตรวจสอบ
            $('input[name=QueueAuditStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });

            //ผลการตรวจสอบการชำระเบี้ย
            $('input[name=AuditPaymentMotorStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });

            //สถานะการโทร
            $('input[name=CallStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });

            //ผลการตรวจสอบ ผอ.บล.
            $('input[name=AuditUnderwriteResultStatus]').on('ifChecked',
                function (e) {
                    let val = $(this).val();
                    //เลือก 2 required = false
                    if (val === '2') {
                        $('#AuditUnderwriteResultStatusRemark').rules('add', { required: false });
                        $('#AuditUnderwriteResultStatusRemark-error').css('display', 'none');
                    } else if(val ==='3') {
                        $('#AuditUnderwriteResultStatusRemark').rules('add', { required: true });
                    }
                    //valid
                    $(this).valid();
                });

            //ผลการตรวจสอบการคัดกรอง
            $('input[name=AuditUnderwriteStatus]').on('ifChecked',
                function (e) {
                    //valid
                    $(this).valid();
                });

            //ผลการตรวจสอบการมอบบัตร
            $('input[name=AuditPoliciesGivenStatus]').on('ifChecked',
                function (e) {
                    //valid
                    $(this).valid();
                });

            //การตรวจสอบด้านสุขภาพ
            $('input[name=AuditMotorStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                    //hide label error
                    $('#AuditMotorSpecifyStatus-error').css('display', 'none');
                });

            //รอพิจารณา -> ระบุในใบสมัคร-ไม่ระบุ
            $('input[name=AuditMotorSpecifyStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });

            //สถานะพิจารณา
            $('input[name=AuditInsureStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });
            //พิจารณาแล้ว -ผ่าน -ไม่ผ่าน -ติดเงื่อนไข
            $('input[name=AuditInsureConsiderStatus]').on('ifChecked',
                function (e) {
                    $(this).valid();
                });
        });//end load

        /*tab change*/
        $('a[data-toggle="tab"]').on('shown.bs.tab',
            function (e) {
                e.preventDefault();
                const target = $(e.target).attr("href");
                switch (target) {
                    case "#tab_4":
                        //Log
                        loadingSpinner('fadeIn', 500);
                        GetQueueMotorAuditLog_DT();
                        break;
                    case "#tab_3":
                        loadingSpinner('fadeIn');
                        //dowload documents
                        GetDocuments();
                        break;
                    default:
                }
            });

        //Dowload Document
        const GetDocuments = () => {
            $.post('@Url.Action("DowloadDocuments")',
                {
                    queueId: "@ViewBag.QueueMotorFullDetail.QueueAuditId"
                },
                function (data) {
                    console.log(JSON.stringify(data))

                    if (data.IsResult === true) {
                        loadingSpinner('fadeOut', 500);

                        //บัตรประจำตัวประชาชน
                        if (Array.isArray(data.idCardAttachedFile)) {
                            if (data.idCardAttachedFile.length > 0) {
                                for (var i = 0; i < data.idCardAttachedFile.length; i++) {
                                    if (data.idCardAttachedFile[i] == null) {

                                        $('.IdCardAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.idCardAttachedFileType) {
                                            case "JPG":
                                                $('#IdCardAttachedFile_JPG').show();
                                                $(`.IDcard_a_${i}`).attr('href', data.idCardAttachedFile[i]);
                                                $(`.IDcard_img_${i}`).attr('src', data.idCardAttachedFile[i]);
                                                $(`.IDcard_img_${i}`).attr('data-src', data.idCardAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#IdCardAttachedFile_PDF').show();
                                                $('#IdCardAttachedFile_PDF').append(`<object class="IDcard_PDF" data="${data.idCardAttachedFile[i]}" type="application/pdf" style="width:100%; height: 900px;overflow:auto !important">
                                                <p>
                                                    Alternative text - include a link<a href="">
                                                        to the PDF!
                                                    </a>
                                                </p>
                                            </object>`);

                                                break
                                            default:
                                                $('#IdCardAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.IdCardAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.IdCardAttachedFile_NoDocument').show();
                        }
                        //end บัตรประจำตัวประชาชน

                        //รูปภาพ
                        if (Array.isArray(data.photoAttachedFile)) {
                            if (data.photoAttachedFile.length > 0) {
                                for (var i = 0; i < data.photoAttachedFile.length; i++) {
                                    if (data.photoAttachedFile[i] == null) {
                                        $('.photoAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.photoAttachedFileType) {
                                            case "JPG":
                                                $('#photoAttachedFile_JPG').show();
                                                $(`.picture_a_${i}`).attr('href', data.photoAttachedFile[i]);
                                                $(`.picture_img_${i}`).attr('src', data.photoAttachedFile[i]);
                                                $(`.picture_img_${i}`).attr('data-src', data.photoAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#photoAttachedFile_PDF').show();
                                                $('#photoAttachedFile_PDF').append(`<object class="picture_PDF" data="${data.photoAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#photoAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.photoAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.photoAttachedFile_NoDocument').show();
                        }
                        //end รูปภาพ

                        //รายการจดทะเบียน
                        if (Array.isArray(data.regisBookAttachedFile)) {
                            if (data.regisBookAttachedFile.length > 0) {
                                for (var i = 0; i < data.regisBookAttachedFile.length; i++) {
                                    if (data.regisBookAttachedFile[i] == null) {
                                        $('.regisBookAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.regisBookAttachedFileType) {
                                            case "JPG":
                                                $('#regisBookAttachedFile_JPG').show();
                                                $(`.register_a_${i}`).attr('href', data.regisBookAttachedFile[i]);
                                                $(`.register_img_${i}`).attr('src', data.regisBookAttachedFile[i]);
                                                $(`.register_img_${i}`).attr('data-src', data.regisBookAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#regisBookAttachedFile_PDF').show();
                                                $('#regisBookAttachedFile_PDF').append(`<object class="register_PDF" data="${data.regisBookAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#regisBookAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.regisBookAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.regisBookAttachedFile_NoDocument').show();
                        }
                        //end รายการจดทะเบียน

                        //ใบเสร็จ
                        if (Array.isArray(data.paymentSlipAttachedFile)) {
                            if (data.paymentSlipAttachedFile.length > 0) {
                                for (var i = 0; i < data.paymentSlipAttachedFile.length; i++) {
                                    if (data.paymentSlipAttachedFile[i] == null) {
                                        $('.paymentSlipAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.paymentSlipAttachedFileType) {
                                            case "JPG":
                                                $('#paymentSlipAttachedFile_JPG').show();
                                                $(`.receipt_a_${i}`).attr('href', data.paymentSlipAttachedFile[i]);
                                                $(`.receipt_img_${i}`).attr('src', data.paymentSlipAttachedFile[i]);
                                                $(`.receipt_img_${i}`).attr('data-src', data.paymentSlipAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#paymentSlipAttachedFile_PDF').show();
                                                $('#paymentSlipAttachedFile_PDF').append(`<object class="receipt_PDF" data="${data.paymentSlipAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#paymentSlipAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.paymentSlipAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.paymentSlipAttachedFile_NoDocument').show();
                        }
                        //end ใบเสร็จ

                        //หนังสือยินยอม
                        if (Array.isArray(data.debitAuthorizeAttachedFile)) {
                            if (data.debitAuthorizeAttachedFile.length > 0) {
                                for (var i = 0; i < data.debitAuthorizeAttachedFile.length; i++) {
                                    if (data.debitAuthorizeAttachedFile[i] == null) {
                                        $('.debitAuthorizeAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.debitAuthorizeAttachedFileType) {
                                            case "JPG":
                                                $('#debitAuthorizeAttachedFile_JPG').show();
                                                $(`.consent_a_${i}`).attr('href', data.debitAuthorizeAttachedFile[i]);
                                                $(`.consent_img_${i}`).attr('src', data.debitAuthorizeAttachedFile[i]);
                                                $(`.consent_img_${i}`).attr('data-src', data.debitAuthorizeAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#debitAuthorizeAttachedFile_PDF').show();
                                                $('#debitAuthorizeAttachedFile_PDF').append(`<object class="consent_PDF" data="${data.debitAuthorizeAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#debitAuthorizeAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.debitAuthorizeAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.debitAuthorizeAttachedFile_NoDocument').show();
                        }
                        //end หนังสือยินยอม

                        //บัญชีธนาคาร
                        if (Array.isArray(data.bankBookAttachedFile)) {
                            if (data.bankBookAttachedFile.length > 0) {
                                for (var i = 0; i < data.bankBookAttachedFile.length; i++) {
                                    if (data.bankBookAttachedFile[i] == null) {
                                        $('.bankBookAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.bankBookAttachedFileType) {
                                            case "JPG":
                                                $('#bankBookAttachedFile_JPG').show();
                                                $(`.bank_a_${i}`).attr('href', data.bankBookAttachedFile[i]);
                                                $(`.bank_img_${i}`).attr('src', data.bankBookAttachedFile[i]);
                                                $(`.bank_img_${i}`).attr('data-src', data.bankBookAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#bankBookAttachedFile_PDF').show();
                                                $('#bankBookAttachedFile_PDF').append(`<object class="bank_PDF" data="${data.bankBookAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('#bankBookAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.bankBookAttachedFile_NoDocument').show();
                            };
                        } else {
                            $('.bankBookAttachedFile_NoDocument').show();
                        }
                        //end บัญชีธนาคาร

                        //อื่นๆ
                        if (Array.isArray(data.otherAttachedFile)) {
                            if (data.otherAttachedFile.length > 0) {
                                for (var i = 0; i < data.otherAttachedFile.length; i++) {
                                    if (data.otherAttachedFile[i] == null) {
                                        $('.otherAttachedFile_NotFound').show();
                                    } else {
                                        switch (data.otherAttachedFileType) {
                                            case "JPG":
                                                $('#otherAttachedFile_JPG').show();
                                                $(`.other_a_${i}`).attr('href', data.otherAttachedFile[i]);
                                                $(`.other_img_${i}`).attr('src', data.otherAttachedFile[i]);
                                                $(`.other_img_${i}`).attr('data-src', data.otherAttachedFile[i]);
                                                break
                                            case "PDF":
                                                $('#otherAttachedFile_PDF').show();
                                                $('#otherAttachedFile_PDF').append(`<object class="other_PDF" data="${data.otherAttachedFile[i]}" type="application/pdf" style="width:100%; height: 700px;overflow:auto !important">
                                                    <p>
                                                        Alternative text - include a link<a href="">
                                                            to the PDF!
                                                        </a>
                                                    </p>
                                                </object>`);
                                                break
                                            default:
                                                $('.otherAttachedFile_Type_NotFound').show();
                                                break
                                        }
                                    }
                                }
                            } else {
                                $('.otherAttachedFile_NoDocument').show();
                            }
                        } else {
                            $('.otherAttachedFile_NoDocument').show();
                        }
                        //end อื่นๆ

                    } else {
                        //todo
                        //IsResult false
                    }
                });
        }

        //clear value elements
        const ClearValueQueueAuditStatusChanged = () => {
            $('input[name=CallStatus]').iCheck('uncheck');
            //$('textarea[name=remark]').val('');
            //$('input[name=AuditUnderwriteResultStatus]').iCheck('uncheck');
            //$('textarea[name=AuditUnderwriteResultStatusRemark]').val('');
            $('input[name=AuditUnderwriteStatus]').iCheck('uncheck');
            $('input[name=AuditPoliciesGivenStatus]').iCheck('uncheck');
            $('input[name=callStatus]').iCheck('uncheck');
            //$('textarea[name=AuditMotorRemark]').val('');
            $('input[name=AuditMotorStatus]').iCheck('uncheck');
            $('#box-audit-5-1').hide();
            $('input[name=AuditMotorSpecifyStatus]').iCheck('uncheck');
           // $('textarea[name=AuditHealthSpecifyRemark]').val('');
        }

        //submit form 1
        const SubmitformQuestion = () => {
            $.ajax({
                url: $('#formQuestionBPT').attr('action'),
             type: 'POST',
                data: $('#formQuestionBPT').serialize(),
                success: function (response) {
                 if (response != null && response.IsResult === true) {
                             swal({
                                 title: "บันทึกข้อมูลเรียบร้อย",
                                 text: "",
                                 type: "success",
                                 showCancelButton: false,
                                 showConfirmButton: true,
                                 allowEscapeKey: false,
                                 allowOutsideClick: false,
                                 html: false
                             }, function (e) {
                                 window.close();
                             });
                 }else {
                     swal("บันทึกรายการไม่สำเร็จ กรุณาตรวจสอบข้อมูล", response.Msg , "error");
                 }
             }
             });
        }

        /*modal show PaymentHistory*/
        $('#modal-CountPaymentHistory').on('show.bs.modal', function (e) {
            GetUnderwritePaymentHistory_DT();
        })

        /*modal show*/
        $('#modal-CountChassisNumber').on('show.bs.modal', function (e) {
            GetUnderwriteHistory_DT();
        })

        const GetUnderwriteHistory_DT = () => {
                $('#UnderwriteHistory').empty();
                var table = $('#UnderwriteHistory').DataTable({
                    pageLength: 10,
                    lengthChange: false,
                    processing: true,
                    serverSide: true,
                    destroy: true,
                    searching: false,
                    ordering: true,
                    info: true,
                    paging: true,
                    autoWidth: false,
                    responsive: true,
                    language: {
                        url: 'https://cdn.datatables.net/plug-ins/1.10.20/i18n/Thai.json'
                    },
                    ajax: {
                        url: '@Url.Action("UnderwriteHistory")',
                        method: 'GET',
                        data: function (d) {
                            d.draw = d.draw;
                            d.pageSize = d.length;
                            d.indexStart = d.start;
                            d.sortField = d.columns[d.order[0].column].data;
                            d.orderType = d.order[0].dir;
                            d.queueId = "@ViewBag.QueueMotorFullDetail.QueueId";
                        }
                    },
                    columns: [
                        {
                            title: 'เลข App',
                            data: 'ApplicationCode'
                        },
                        {
                            title: 'ชื่อ-สกุล ผู้เอาประกัน',
                            data: 'InsuredName'
                        },
                        {
                            title: 'วันที่เริ่มคุ้มครอง',
                            data: 'StartCoverDate',
                            render: function (data) {
                                if (data != null) {
                                    let date = moment(data);
                                    date.add(543, 'years');
                                    return moment(date).format('DD/MM/YYYY')
                                } else {
                                    return '-';
                                }
                            }

                        },
                        {
                            title: 'ผลการพิจารณา',
                            data: 'ApproveStatus'
                        },
                        {
                            title: 'รายละเอียด',
                            data: null,
                            orderable: false,
                            render: function (data) {
                                return `<button onclick="OpenNewPage(${data.QueueId});" class="btn btn-info" style="width:100%">ดูรายละเอียด</button>`;
                            }
                        },
                    ]
                });
        }

        @*const OpenNewPage = (queueId) => {

            let encodeId = btoa(queueId);
            window.open(`@Url.Action("MotorAuditView", "MotorAudit")?motorQueueAuditId=${encodeId}`, '_blank');
        }*@

        const GetUnderwritePaymentHistory_DT = () => {
                $('#UnderwritePaymentHistory').empty();
                var table = $('#UnderwritePaymentHistory').DataTable({
                    pageLength: 10,
                    lengthChange: false,
                    processing: true,
                    serverSide: true,
                    destroy: true,
                    searching: false,
                    ordering: true,
                    info: true,
                    paging: true,
                    autoWidth: false,
                    responsive: true,
                    language: {
                        url: 'https://cdn.datatables.net/plug-ins/1.10.20/i18n/Thai.json'
                    },
                    ajax: {
                        url: '@Url.Action("UnderwritePaymentHistory")',
                        method: 'GET',
                        data: function (d) {
                            d.draw = d.draw;
                            d.pageSize = d.length;
                            d.indexStart = d.start;
                            d.sortField = d.columns[d.order[0].column].data;
                            d.orderType = d.order[0].dir;
                            d.queueId = "@ViewBag.QueueMotorFullDetail.QueueId";
                        }
                    },
                    columns: [
                        {
                            title: 'เลข App',
                            data: 'ApplicationCode'
                        },
                        {
                            title: 'ชื่อ-สกุล',
                            data: 'InsuredName'
                        },
                        {
                            title: 'วันที่เริ่มคุ้มครอง',
                            data: 'StartCoverDate',
                            render: function (data) {
                                if (data != null) {
                                    let date = moment(data);
                                    date.add(543, 'years');
                                    return moment(date).format('DD/MM/YYYY')
                                } else {
                                    return '-';
                                }
                            }

                        },
                        {
                            title: 'สถานะ',
                            data: 'ApplicationStatus'
                        },
                    ]
                });
            }

        //submit form 2
        const SubmitformAuditInsure = () => {
            $.ajax({
                url: $('#formAuditInsure').attr('action'),
                type: 'POST',
                data: $('#formAuditInsure').serialize(),
                success: function (response) {
                    if (response != null && response.IsResult === true) {
                        swal({
                            title: "บันทึกข้อมูลเรียบร้อย",
                            text: "",
                            type: "success",
                            showCancelButton: false,
                            showConfirmButton: true,
                            allowEscapeKey: false,
                            allowOutsideClick: false,
                            html: false
                        }, function (e) {
                            window.close();
                        });
                    }
                    else {
                        swal("บันทึกรายการไม่สำเร็จ กรุณาตรวจสอบข้อมูล", response.Msg, "error");
                    }
                }
            });
        }

        const GetQueueMotorAuditLog_DT = () => {
            $('#tableLog').empty();
            var table = $('#tableLog').DataTable({
                pageLength: 10,
                lengthChange: false,
                processing: true,
                serverSide: true,
                destroy: true,
                searching: false,
                ordering: true,
                info: true,
                paging: true,
                autoWidth: false,
                responsive: true,
                language: {
                    url: 'https://cdn.datatables.net/plug-ins/1.10.20/i18n/Thai.json'
                },
                ajax: {
                    url: '@Url.Action("QueueMotorAuditLog")',
                    method: 'GET',
                    data: function (d) {
                        d.draw = d.draw;
                        d.pageSize = d.length;
                        d.indexStart = d.start;
                        d.sortField = d.columns[d.order[0].column].data;
                        d.orderType = d.order[0].dir;
                        d.search = d.search;
                        d.queueAuditId = "@ViewBag.QueueMotorFullDetail.QueueAuditId";
                    }
                },
                columns: [
                    {
                        title: 'วันที่ได้รับคิวงาน',
                        data: 'CreatedDate',
                        render: function (data) {
                            let date = moment(data);
                            date.add(543, 'years');
                            return moment(date).format("DD/MM/YYYY HH:mm:ss");
                        }

                    },
                    {
                        title: 'ผู้มอบหมายคิวงาน',
                        data: 'FromFullName'
                    },
                    {
                        title: 'ผู้รับคิวงาน',
                        data: 'ToFullName'
                    },
                   @* {
                        title: 'ภาค',
                        data:'ToAreaDetail'
                    }*@
                ]
            });

            window.onresize = function () {
                table.columns.adjust().responsive.recalc();
            };
        }

        /*fn get payer other*/
        const getPayerOther = (appCode) => {
            $.get('@Url.Action("GetPayerOtherApp")',
                { appCode: appCode },
                function (data) {
                    if (data.length > 0) {
                        /*declare str*/
                        const str = `ชำระเบี้ยให้อีก ${data.length} คน`;
                        /*show button*/
                        $('#btnPayerOther').show();
                        /*set str to text button*/
                        $('#btnPayerOther').text(str);
                        /*load datatables*/
                        loadDatatablesPayerOther(data);
                    }
                });
        }

        /*load datatables payer other*/
        const loadDatatablesPayerOther = (data) => {
            $(`#tablePayerOther`).empty();
            $(`#tablePayerOther`).DataTable({
                pageLength: 100,
                processing: true,
                serverSide: false,
                autoWidth: false,
                responsive: true,
                destroy: true,
                lengthChange: false,
                searching: false,
                info: true,
                paging: true,
                data: data,
                language: {
                    url: "http://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Thai.json"
                },
                columns: [
                    {
                        title: 'AppId',
                        data: 'app_Id',
                        orderable: false
                    },
                    {
                        title: 'ชื่อ-สกุล',
                        data: null,
                        orderable: false,
                        render: (d) => {
                            return `${d.customerFirstName} ${d.customerLastName}`;
                        }

                    },
                    {
                        title: 'วันเริ่มคุ้มครอง',
                        data: 'startCoverDate',
                        orderable: false,
                        render: (d) => {
                            return moment(d).format("DD/MM/YYYY");
                        }
                    },
                    {
                        title: 'สถานะ',
                        data: 'status',
                        orderable: false
                    }
                ]
            });
        }
     const OpenDocstorage = (app) => {
     var url = `@ViewBag.docstorage`+`/document=` + app + `/preview`
      window.open(`@ViewBag.docstorage`+`/document/` + app + `/preview`,'_blank');
 }
    const OpenNewPage = (queueId) => {

            let encodeId = btoa(queueId);
            window.open(`@Url.Action("MotorAuditView", "MotorAudit")?motorQueueAuditId=${encodeId}`, '_blank');
        }
     const OpenGoogleDoc = () => {

            window.open(`@Html.Raw(ViewBag.OpenGoogleDoc)`,'_blank');
        }
    </script>
}